(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,n){e.exports=n.p+"static/media/cytoscape-logo.4aa4c296.svg"},195:function(e,t,n){},201:function(e,t,n){},208:function(e,t,n){e.exports=n.p+"static/media/google-logo.c21ca9d1.svg"},209:function(e,t,n){e.exports=n.p+"static/media/google-logo-disabled.02062f61.svg"},211:function(e,t,n){e.exports=n.p+"static/media/ndex-logo-mono.e913eb27.svg"},216:function(e,t,n){e.exports=n.p+"static/media/github.617870e4.svg"},223:function(e){e.exports={examples:["kras egfr cdk4 tp53","per1 per2 clock","mtor wnt1 igf1","ABAT ABCC5 ABHD4 ACVR1B ADA ADCK3 AEN AK1 ALOX15B ANKRA2 APAF1 APP ATF3 BAIAP2 BAK1 BAX BLCAP BMP2 BTG1 BTG2 CASP1 CCND2 CCND3 CCNG1 CCNK CCP110 CD81 CD82 CDH13 CDK5R1 CDKN1A CDKN2A CDKN2AIP CDKN2B CEBPA CGRRF1 CLCA2 CSRNP2 CTSD CTSF CYFIP2 DCXR DDB2 DDIT3 DDIT4 DEF6 DGKA DNTTIP2 DRAM1 EI24 EPHA2 EPHX1 EPS8L2 ERCC5 F2R FAM162A FAS FBXW7 FDXR FGF13 FOS FOXO3 FUCA1 GADD45A GLS2 GM2A GNB2L1 GPX2 H2AFJ HBEGF HDAC3 HEXIM1 HINT1 HIST1H1C HIST3H2A HMOX1 HRAS HSPA4L IER3 IER5 IFI30 IKBKAP IL1A INHBB IP6K2 IRAK1 ISCU ITGB4 JAG2 JUN KIF13B KLF4 KLK8 KRT17 LDHB LIF LRMP MAPKAPK3 MDM2 MKNK2 MXD1 MXD4 NDRG1 NHLH2 NINJ1 NOL8 NOTCH1 NUDT15 NUPR1 OSGIN1 PCNA PDGFA PERP PHLDA3 PIDD PITPNC1 PLK2 PLK3 PLXNB2 PMM1 POLH POM121 PPM1D PPP1R15A PRKAB1 PRMT2 PROCR PTPN14 PTPRE PVT1 RAB40C RAD51C RAD9A RALGDS RAP2B RB1 RCHY1 RETSAT RGS16 RHBDF2 RNF19B RPL18 RPL36 RPS12 RPS27L RRAD RRP8 RXRA S100A10 S100A4 SAT1 SDC1 SEC61A1 SERPINB5 SERTAD3 SESN1 SFN SLC19A2 SLC35D1 SLC3A2 SLC7A11 SOCS1 SP1 SPHK1 ST14 STEAP3 STOM TAP1 TAX1BP3 TCHH TCN2 TGFA TGFB1 TM4SF1 TM7SF3 TNFSF9 TNNI1 TOB1 TP53 TP63 TPD52L1 TPRKB TRAF4 TRAFD1 TRIAP1 TRIB3 TSC22D1 TSPYL2 TXNIP UPP1 VAMP8 VDR VWA5A WRAP73 WWP1 XPC ZBTB16 ZFP36L1 ZMAT3 ZNF365"]}},224:function(e,t,n){e.exports=n.p+"static/media/ucsd-logo.5838f23e.svg"},226:function(e){e.exports=[{format_version:"1.0",generated_by:"cytoscape-3.7.1",target_cytoscapejs_version:"~2.1",title:"dark4",style:[{selector:"node",css:{"background-opacity":1,shape:"ellipse",height:70,"text-opacity":1,"font-size":18,"border-opacity":1,color:"rgb(255,255,255)","border-width":0,"text-valign":"center","text-halign":"center","font-family":"SFProText-Medium","font-weight":"normal","background-color":"rgb(0,102,102)",width:110,"border-color":"rgb(255,102,102)",content:"data(name)"}},{selector:"node[type = 'phenotype']",css:{"background-opacity":.39215686274509803,shape:"roundrectangle","background-color":"rgb(255,255,255)",width:220}},{selector:"node[type = 'smallmolecule']",css:{width:20}},{selector:"node[type = 'complex']",css:{width:180}},{selector:"node[type = 'smallmolecule']",css:{shape:"octagon"}},{selector:"node[type = 'proteinfamily']",css:{shape:"rectangle"}},{selector:"node[type = 'smallmolecule']",css:{height:20}},{selector:"node[type = 'complex']",css:{height:180}},{selector:"node[type = 'proteinfamily']",css:{color:"rgb(153,153,153)"}},{selector:"node[type = 'smallmolecule']",css:{"background-color":"rgb(255,255,255)"}},{selector:"node[type = 'complex']",css:{"background-color":"rgb(0,153,204)"}},{selector:"node[type = 'proteinfamily']",css:{"background-color":"rgb(255,255,255)"}},{selector:"node[querynode]",css:{"border-width":20}},{selector:"node[type = 'smallmolecule']",css:{"text-valign":"bottom"}},{selector:"edge",css:{"curve-style":"bezier","line-style":"solid","target-arrow-color":"#FFFFFF","line-color":"#FFFFFF",width:2,opacity:.39215686274509803}},{selector:"edge[directed]",css:{"target-arrow-shape":"triangle"}},{selector:"node:selected",css:{"background-color":"rgb(255,102,102)"}},{selector:"edge:selected",css:{"target-arrow-shape":"triangle","line-color":"rgb(255,0,0)"}}]}]},281:function(e,t,n){e.exports=n(485)},291:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},348:function(e,t,n){},358:function(e,t,n){},425:function(e,t,n){},427:function(e,t,n){},456:function(e,t,n){},457:function(e,t,n){},469:function(e,t,n){},477:function(e,t,n){},485:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"SET_QUERY",function(){return Qn}),n.d(a,"CLEAR_QUERY",function(){return zn}),n.d(a,"SEARCH_STARTED",function(){return Vn}),n.d(a,"SEARCH_SUCCEEDED",function(){return Yn}),n.d(a,"SEARCH_FAILED",function(){return Jn}),n.d(a,"SET_SEARCH_RESULT",function(){return Zn}),n.d(a,"FETCH_RESULT_STARTED",function(){return $n}),n.d(a,"FETCH_RESULT_SUCCEEDED",function(){return ea}),n.d(a,"FETCH_RESULT_FAILED",function(){return ta}),n.d(a,"CLEAR_ALL",function(){return na}),n.d(a,"SET_SELECTED_GENES",function(){return aa}),n.d(a,"setQuery",function(){return ra}),n.d(a,"clearQuery",function(){return oa}),n.d(a,"searchStarted",function(){return ca}),n.d(a,"searchSucceeded",function(){return ia}),n.d(a,"searchFailed",function(){return sa}),n.d(a,"setSearchResult",function(){return la}),n.d(a,"fetchResultStarted",function(){return ua}),n.d(a,"fetchResultSucceeded",function(){return da}),n.d(a,"fetchResultFailed",function(){return ma}),n.d(a,"clearAll",function(){return pa}),n.d(a,"setSelectedGenes",function(){return fa});var r={};n.r(r),n.d(r,"SET_SETTINGS_OPEN",function(){return ga}),n.d(r,"setSettingsOpen",function(){return ha}),n.d(r,"SET_CYTOSCAPE_STATUS",function(){return Ea}),n.d(r,"setCytoscapeStatus",function(){return ba}),n.d(r,"SET_SERVICES_LIST_OPEN",function(){return Oa}),n.d(r,"setServicesListOpen",function(){return va}),n.d(r,"SET_HIGHLIGHTS",function(){return ya}),n.d(r,"setHighlights",function(){return Sa}),n.d(r,"SET_SELECTED_SOURCE",function(){return ja}),n.d(r,"setSelectedSource",function(){return Ca});var o={};n.r(o),n.d(o,"NETWORK_FETCH_STARTED",function(){return wa}),n.d(o,"NETWORK_FETCH_SUCCEEDED",function(){return Na}),n.d(o,"NETWORK_FETCH_FAILED",function(){return ka}),n.d(o,"NETWORK_CLEAR",function(){return Aa}),n.d(o,"SELECT_NODE",function(){return Ta}),n.d(o,"SELECT_EDGE",function(){return xa}),n.d(o,"DESELECT_ALL",function(){return Ra}),n.d(o,"networkFetchStarted",function(){return La}),n.d(o,"networkFetchSucceeded",function(){return Da}),n.d(o,"networkFetchFailed",function(){return Ia}),n.d(o,"networkClear",function(){return Fa}),n.d(o,"selectNode",function(){return _a}),n.d(o,"selectEdge",function(){return Pa}),n.d(o,"deselectAll",function(){return Ua});var c={};n.r(c),n.d(c,"FIND_SOURCE_STARTED",function(){return Ga}),n.d(c,"FIND_SOURCE_SUCCEEDED",function(){return Ba}),n.d(c,"FIND_SOURCE_FAILED",function(){return Ha}),n.d(c,"findSourceStarted",function(){return Ma}),n.d(c,"findSourceSucceeded",function(){return Ka}),n.d(c,"findSourceFailed",function(){return Xa});var i={};n.r(i),n.d(i,"IMPORT_NETWORK_STARTED",function(){return Wa}),n.d(i,"IMPORT_NETWORK_SUCCEEDED",function(){return qa}),n.d(i,"IMPORT_NETWORK_FAILED",function(){return Qa}),n.d(i,"importNetworkStarted",function(){return za}),n.d(i,"importNetworkSucceeded",function(){return Va}),n.d(i,"importNetworkFailed",function(){return Ya}),n.d(i,"SET_PORT",function(){return Ja}),n.d(i,"setPort",function(){return Za}),n.d(i,"SET_AVAILABLE",function(){return $a}),n.d(i,"setAvailable",function(){return er});var s={};n.r(s),n.d(s,"SET_NDEX_MODAL_OPEN",function(){return tr}),n.d(s,"setNDExModalOpen",function(){return nr}),n.d(s,"SET_PROFILE",function(){return ar}),n.d(s,"setProfile",function(){return rr}),n.d(s,"CREDENTIALS_SIGN_ON",function(){return or}),n.d(s,"credentialsSignOn",function(){return cr}),n.d(s,"GOOGLE_SIGN_ON",function(){return ir}),n.d(s,"googleSignOn",function(){return sr}),n.d(s,"SAVE_TO_NDEX",function(){return lr}),n.d(s,"saveToNDEx",function(){return ur}),n.d(s,"SET_NETWORK_URL",function(){return dr}),n.d(s,"setNetworkUrl",function(){return mr}),n.d(s,"SET_ERROR_MESSAGE",function(){return pr}),n.d(s,"setErrorMessage",function(){return fr});var l=n(0),u=n.n(l),d=n(25),m=n(81),p=(n(290),n(31)),f=n(122),g=n(66),h=n(227),E=n(203),b=(n(291),n(292),n(10)),O=(n(293),n(24)),v=n.n(O),y=n(14),S=Object(y.withStyles)(function(e){return Object(b.a)({},e,{button:{padding:"0.3em"}})})(function(e){e.classes;return u.a.createElement("div",{className:"gene-list-header"},u.a.createElement(v.a,{variant:"subtitle1"},"Query Genes"))}),j=(n(348),n(57)),C=n(65),w=n.n(C),N=n(93),k=n.n(N),A=function(e,t){t.searchActions.setSelectedGenes([e])},T=function(e,t,n,a,r){var o="default";return r.has(e.symbol)&&(o="secondary"),t?u.a.createElement(k.a,{className:n.chip,avatar:u.a.createElement(w.a,null,"G"),label:e.symbol,onClick:function(){return A(e.symbol,a)},variant:"outlined",color:o,key:e.symbol}):u.a.createElement(k.a,{avatar:u.a.createElement(w.a,null,"G"),label:"INVALID: "+e,onClick:A,key:e})},x=Object(y.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center"},chip:{margin:e.spacing.unit}}})(function(e){var t=e.classes,n=e.search,a=e.network,r=n.results,o=a.hitGenes,c=new Set(o);if(!r)return u.a.createElement("div",{className:"gene-list-wrapper"});var i=r.genes;if(!i)return u.a.createElement("div",{className:"gene-list-wrapper"});var s=[],l=[],d=!0,m=!1,p=void 0;try{for(var f,g=i.values()[Symbol.iterator]();!(d=(f=g.next()).done);d=!0){var h=f.value;c.has(h.symbol)?s.push(h):l.push(h)}}catch(y){m=!0,p=y}finally{try{d||null==g.return||g.return()}finally{if(m)throw p}}var E=function(e,t){return e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0},b=s.sort(E),O=l.sort(E),v=[].concat(Object(j.a)(b),Object(j.a)(O));return u.a.createElement("div",{className:"gene-list-wrapper",onClick:function(e){return function(e){console.log("#### Clear selection",e.target.value)}(e)}},v.map(function(n){return T(n,!0,t,e,c)}))}),R=function(e){return u.a.createElement("div",{className:"input-container"},u.a.createElement("div",{className:"input-wrapper"},u.a.createElement(S,e),u.a.createElement(x,e)))},L=n(55),D=n(39),I=n(114),F=n.n(I),_=n(115),P=n.n(_),U=n(21),G=(n(358),function(e){return u.a.createElement("div",{className:"results-container"},u.a.createElement("div",{className:"message"},u.a.createElement(U.n,{variant:"title"})))}),B=(n(72),n(130)),H=n(204),M=n.n(H),K=(n(195),function(e){return u.a.createElement("div",{className:"warning-container"},u.a.createElement("div",{className:"warning-message-box"},u.a.createElement(U.n,{variant:"h6"},"Network is too big for interactive view"),u.a.createElement(U.n,{variant:"subtitle1"})))}),X=null,W={name:"preset",padding:6},q={name:"concentric",padding:6,minNodeSpacing:100},Q={name:"cose",padding:6,nodeRepulsion:function(e){return 1008e4},nodeOverlap:4e5,idealEdgeLength:function(e){return 10}},z=function(e){var t=e.uiState.highlights;if(Object(l.useEffect)(function(){if(void 0!==X&&null!==X)return console.log("@@@@@@@@@@@@@@@@@This should run only once:  CyViewer Mounted:",X),X.on("tap",function(t){try{X.nodes().removeClass("connected"),t.target===X&&(e.networkActions.deselectAll(),console.log("UNSELECT"))}catch(n){console.warn(n)}}),X.on("tap","node",function(){try{X.nodes().removeClass("connected");var t=this.data();e.networkActions.selectNode(t)}catch(n){console.warn(n)}}),X.on("tap","edge",function(){try{X.nodes().removeClass("connected");var t=this.data(),n=t.source,a=t.target;X.$("#"+n+", #"+a).addClass("connected"),e.networkActions.selectEdge(t)}catch(r){console.warn(r)}}),e.uiStateActions.setHighlights(!0),function(){console.log("unmount")}},[]),Object(l.useEffect)(function(){if(void 0!==X&&null!==X){var t=e.search.selectedGenes;if(null!==t&&void 0!==t&&0!==t.length){var n=X.elements('node[name = "'+t[0]+'"]');0!==n.length?X.animate({zoom:2,center:{eles:n[0]}},{duration:500}):X.animate({fit:{eles:X.elements(),padding:10}},{duration:500})}}},[e.search.selectedGenes]),e.network.nodeCount+e.network.edgeCount>5e3)return u.a.createElement(K,null);var n=e.network.network;if(null===n||void 0===n)return null;var a={width:"100%",height:"100%",background:e.network.backgroundColor},r=n.isLayout,o=W;!r&&n.elements.length<500?o=Q:r||(o=q),null!==X&&(X.resize(),t?(X.elements().addClass("faded"),X.filter('node[querynode = "true"]').addClass("highlight")):X.elements().removeClass("faded").removeClass("highlight"));return u.a.createElement(M.a,{elements:n.elements,layout:o,style:a,stylesheet:n.style,cy:function(e){return X=e}})},V=(n(425),n(109)),Y=n.n(V),J=function(e){return u.a.createElement("div",{className:"loading-container"},u.a.createElement(v.a,{className:"loading-title",variant:"h5",color:"primary"},e.title),u.a.createElement(v.a,{className:"loading-message",variant:"subtitle1",color:"default"},e.message),u.a.createElement(Y.a,{size:100}))},Z=function(e){return u.a.createElement("div",{className:"network-view"},e.network.isFetching?u.a.createElement(J,{title:"Loading Network..."}):u.a.createElement(z,e))},$=n(125),ee=n(36),te=n.n(ee),ne=n(30),ae=n.n(ne),re=n(29),oe=n.n(re),ce=n(6),ie=n(40),se=n(33),le=n(43),ue=n(41),de=n(44),me=n(91),pe=n.n(me),fe=n(38),ge=n.n(fe),he=n(206),Ee=n.n(he),be=n(27),Oe=n.n(be),ve=n(205),ye=n.n(ve),Se=n(155),je=n.n(Se),Ce=n(32),we=n.n(Ce),Ne=(n(427),n(42)),ke=n.n(Ne),Ae=n(110),Te=n.n(Ae),xe=n(78),Re=n.n(xe),Le="https://www.genecards.org/cgi-bin/carddisp.pl?gene=",De=function(e){function t(){var e,n;Object(ie.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r)))).state={},n.handleClick=function(e){console.log("OPEN === ",e);var t="pw_"+e,a=n.state[t];void 0===a||null==a?n.setState(function(e){return Object(ce.a)({},t,!0)}):n.setState(function(e){return Object(ce.a)({},t,!a)})},n.getListItem=function(e,t){if(null===e||void 0===e)return null;var a=e.summary;return u.a.createElement(ae.a,{alignItems:"flex-start",key:e._id,onClick:function(t){return n.handleClick(e._id)}},u.a.createElement(pe.a,null,u.a.createElement(w.a,{className:t.matched},"G")),u.a.createElement(oe.a,{primary:e.symbol,secondary:u.a.createElement(u.a.Fragment,null,u.a.createElement(v.a,{component:"span",className:t.inline,color:"textPrimary"},e.name),u.a.createElement(v.a,{variant:"caption"},a))}),u.a.createElement(Te.a,{className:t.linkIcon},u.a.createElement(Oe.a,{"aria-label":"Link to GeneCards",href:Le+e.symbol,target:"_blank"},u.a.createElement(we.a,{title:"Open in GeneCards",placement:"bottom"},u.a.createElement(ye.a,null)))))},n.getListChildren=function(e,t){var a=e.pathway,r=Object.keys(a);return console.log("PW===",a),u.a.createElement(Re.a,{in:n.state[Ie(e._id)],timeout:"auto",unmountOnExit:!0},u.a.createElement(te.a,{component:"div",disablePadding:!0},r.map(function(e){var n=a[e];return Array.isArray(n)?u.a.createElement(u.a.Fragment,null,n.map(function(n){return u.a.createElement(ae.a,{button:!0,className:t.nested},u.a.createElement(ke.a,null,u.a.createElement(je.a,null)),u.a.createElement(oe.a,{inset:!0,primary:e+": "+n.id,secondary:u.a.createElement(u.a.Fragment,null,u.a.createElement(v.a,{component:"span",className:t.inline,color:"textPrimary"},n.name))}))})):u.a.createElement(ae.a,{button:!0,className:t.nested},u.a.createElement(ke.a,null,u.a.createElement(je.a,null)),u.a.createElement(oe.a,{inset:!0,primary:n.name}))})))},n.getNotFound=function(e,t){return u.a.createElement("div",null,u.a.createElement(ge.a,{variant:"middle"}),u.a.createElement(v.a,{className:t.title,variant:"body1"},"Unmatched: "+e.length),u.a.createElement(te.a,null,e.map(function(e){return n.getUnmatchedListItem(e,t)})))},n.getUnmatchedListItem=function(e){return u.a.createElement(ae.a,{alignItems:"flex-start",key:e},u.a.createElement(ke.a,null,u.a.createElement(Ee.a,null)),u.a.createElement(oe.a,{inset:!0,primary:e}))},n}return Object(de.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.search.results;if(!t)return u.a.createElement("div",{className:"gene-list-wrapper"});var n=t.genes;if(!n)return u.a.createElement("div",{className:"gene-list-wrapper"});var a=this.props.geneSymbol.toLowerCase();return console.log("** LIST = ",a,n),this.getListItem(n.get(a),e)}}]),t}(u.a.Component),Ie=function(e){return"pw_"+e},Fe=Object(y.withStyles)(function(e){return{inline:{display:"inline"},title:{marginLeft:"0.5em",marginTop:"0.3em"},description:{marginLeft:"1em",marginTop:"0.3em"},matched:{backgroundColor:"teal"},unmatched:{backgroundColor:"red"},linkIcon:{paddingLeft:"1em"},nested:{paddingLeft:4*e.spacing.unit}}})(De),_e=(Object($.a)(function(e){return{container:{width:"100%",height:"100%",padding:"0.2em",backgroundColor:"#FFFFFF",overflow:"auto"},list:{height:"100%",width:"100%"},subtitle:{marginLeft:"1em",marginTop:"0.5em"}}}),function(e){var t=e.node,n=Object.keys(t);return u.a.createElement(u.a.Fragment,null,u.a.createElement(Fe,Object.assign({geneSymbol:t.name},e)),n.map(function(e){return u.a.createElement(ae.a,{key:e},u.a.createElement(oe.a,{inset:!0,primary:t[e],secondary:e}))}))}),Pe=function(e){var t=e.edge,n=Object.keys(t);return u.a.createElement(u.a.Fragment,null,n.map(function(e){return u.a.createElement(ae.a,{key:e},u.a.createElement(oe.a,{inset:!0,primary:t[e],secondary:e}))}))},Ue=function(e){var t=e.d;if(void 0===t&&(t="string"),t.startsWith("list_of"))return"(list not supported)";var n=e.v;return null===n||void 0===n?"":n.replace(/<(?:.|\n)*?>/gm," ")},Ge=function(e){for(var t=e.originalCX,n=t.length,a=null;n--;){var r=t[n];if(r.networkAttributes){a=r.networkAttributes;break}}if(null!==a)return u.a.createElement(u.a.Fragment,null,a.map(function(e){return u.a.createElement(ae.a,{key:Math.random()},u.a.createElement(oe.a,{inset:!0,primary:Ue(e),secondary:e.n}))}))},Be=Object($.a)(function(e){return{container:{padding:"0.2em",backgroundColor:"#FFFFFF",overflow:"auto"},list:{width:"100%"},subtitle:{marginLeft:"1em",marginTop:"0.5em"}}}),He={width:"100%"},Me=function(e){var t=Be(),n=e.network;if(null===n)return u.a.createElement("div",{style:He});var a=n.originalCX;if(null===a)return u.a.createElement("div",{style:He});var r=n.selectedNode,o=n.selectedEdge;return r||o?u.a.createElement("div",{className:t.container},u.a.createElement(te.a,{component:"nav",className:t.list},null!==r?u.a.createElement(_e,Object.assign({node:r},e)):u.a.createElement(Pe,{edge:o}))):u.a.createElement("div",{className:t.container},u.a.createElement(te.a,{component:"nav",className:t.list},u.a.createElement(Ge,{originalCX:a})))},Ke=n(48),Xe=n(62),We=n.n(Xe),qe=n(126),Qe=n.n(qe),ze=Object(y.withStyles)(function(e){return{buttonIcon:{height:"2em"},button:{minWidth:"5em"}}})(function(e){var t=e.classes,n=e.cyrest,a=e.handleImportNetwork;return u.a.createElement(we.a,{disableFocusListener:!0,title:"Open this network in Cytoscape Desktop",placement:"bottom"},u.a.createElement("div",null,u.a.createElement(We.a,{className:t.button,variant:"contained",color:"default",disabled:!(e.network.uuid&&e.network.uuid.length>0)||!n.available,onClick:a},u.a.createElement("img",{alt:"Cytoscape logo",src:Qe.a,className:t.buttonIcon}))))}),Ve=n(111),Ye=n.n(Ve),Je=n(112),Ze=n.n(Je),$e=n(113),et=n.n($e),tt=function(e){var t=e.uiState.highlights;return u.a.createElement(Ye.a,{row:!0},u.a.createElement(Ze.a,{control:u.a.createElement(et.a,{checked:t,onChange:function(t,n){e.uiStateActions.setHighlights(n)}}),label:"Query Genes"}))},nt=n(80),at=n.n(nt),rt=Object(y.withStyles)(function(e){return{buttonIcon:{height:"2em"},button:{marginRight:"0.5em",minWidth:"5em"}}})(function(e){var t=e.classes;return u.a.createElement(we.a,{title:"Save this network to your NDEx account",placement:"bottom"},u.a.createElement("div",null,u.a.createElement(We.a,{className:t.button,variant:"contained",color:"default",disabled:!(e.network.uuid&&e.network.uuid.length>0),onClick:function(){e.ndexSaveActions.setNDExModalOpen(!0)}},u.a.createElement("img",{alt:"NDEx logo",src:at.a,className:t.buttonIcon}))))}),ot=n(207),ct=n.n(ot),it=n(208),st=n.n(it),lt=n(209),ut=n.n(lt),dt=(n(456),function(e){function t(e){var n;return Object(ie.a)(this,t),(n=Object(le.a)(this,Object(ue.a)(t).call(this,e))).saveToNDEx=function(e,t){n.props.ndexSaveActions.saveToNDEx({cx:e,token:t})},n.handleClose=function(){n.props.ndexSaveActions.setNDExModalOpen(!1)},n.state={networkUrl:""},n}return Object(de.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.ndexSave,a=t.network,r=n.profile?n.profile.authorization.token:null,o=a.originalCX;console.log("NDExSave render token"+r);var c=n.networkUrl;return n&&n.profile?u.a.createElement("div",{className:"ndex-save"},u.a.createElement(U.f,null,"Now that you're logged in, you can save the network to your NDEx account"),u.a.createElement(U.d,null,c?u.a.createElement(U.b,{href:c,target:"_blank"},"Open in NDEx"):u.a.createElement(U.b,{onClick:function(){e.saveToNDEx(o,r)}},"Save to my account"))):null}}]),t}(u.a.Component)),mt=Object(y.withStyles)(function(e){return{}})(dt),pt=(n(457),{NDEX_USER_VALIDATION:"http://ndexbio.org/v2/user?valid=true",googleClientId:"802839698598-8rsr8va0bd0e6lmi0ghemtrvldk9rnla.apps.googleusercontent.com"}),ft=function(e){function t(){var e,n;Object(ie.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r)))).onFailure=function(e){var t=e.details&&e.details.startsWith("Not a valid origin for the client: http://localhost:")||e.error&&e.error||JSON.stringify(e);n.props.onError(t,!1)},n}return Object(de.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this.props,t=e.googleSSO,n=e.onSuccess,a=t?"google-sign-in-button":"google-sign-in-button googleButtonDisabled",r=t?"Sign in with your Google account":"Google Sign In is currently unavailable because the 'BLOCK THIRD-PARTY COOKIES' option is enabled in your web browser.To use the Google Sign In feature you can do one of two things:1. Add 'accounts.google.com' to the list of websites allowed to write / read THIRD - PARTY COOKIES, or2. Disable the 'BLOCK THIRD-PARTY COOKIES' option in your browser settings.",o=t?st.a:ut.a;return u.a.createElement("div",{className:"google-button"},u.a.createElement(ct.a,{clientId:pt.googleClientId,render:function(e){return u.a.createElement(U.b,{id:"googleSignInButtonId",disabled:!t,className:a,title:r,onClick:e.onClick},u.a.createElement("span",{className:"google-sign-in-button-span"},u.a.createElement("img",{src:o,alt:"",className:"googleLogo"}),u.a.createElement("div",{className:"googleSignInText"},"Sign in with Google")))},buttonText:"Login",onSuccess:n,onFailure:this.onFailure}))}}]),t}(u.a.Component),gt=function(e){function t(){return Object(ie.a)(this,t),Object(le.a)(this,Object(ue.a)(t).apply(this,arguments))}return Object(de.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this.props,t=e.error,n=e.handleCredentialsSignOn,a=t?"btn btn-primary disabled":"btn btn-primary";return u.a.createElement("form",{name:"basicAuthSignIn",onSubmit:n},u.a.createElement(U.h,{className:"form-control"},u.a.createElement(U.l,{name:"accountName",type:"text",placeholder:"Account Name",required:!0,title:"",autoComplete:"username"})),u.a.createElement(U.h,{className:"form-control"},u.a.createElement(U.l,{name:"password",type:"password",placeholder:"Password",required:!0,title:"",autoComplete:"password"})),u.a.createElement("div",{className:"ndex-account-links"},u.a.createElement("div",null,u.a.createElement("span",null,"Need an account? "),u.a.createElement("a",{href:"http://ndexbio.org"},"Click here to sign up!"))),t&&u.a.createElement("div",{className:"text-danger"},u.a.createElement("br",null),u.a.createElement("strong",null,u.a.createElement("span",null,t))),u.a.createElement("div",{className:"credentials-button-container"},this.props.handleClose&&u.a.createElement(U.b,{className:"btn btn-default",variant:"contained",onClick:this.props.handleClose,type:"button"},"Cancel"),u.a.createElement(U.b,{className:a,variant:"contained",color:"primary",type:"submit"},"Sign In")))}}]),t}(u.a.Component),ht=function(e){function t(e){var n;return Object(ie.a)(this,t),(n=Object(le.a)(this,Object(ue.a)(t).call(this,e))).onError=function(e,t){n.props.handleError(e),n.setState({googleSSO:t})},n.state={googleSSO:!0},n}return Object(de.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this.state.googleSSO,t=this.props,n=t.handleClose,a=t.onLoginSuccess,r=t.onSuccess,o=t.handleCredentialsSignOn,c=t.handleError,i=t.error;return u.a.createElement("div",null,u.a.createElement(U.g,{id:"form-dialog-title"},"Sign in to your NDEx Account"),u.a.createElement(U.e,null,u.a.createElement("div",{className:"NDExSignInContainer"},u.a.createElement(U.i,{container:!0,spacing:8},u.a.createElement(U.i,{item:!0,xs:6,className:"grid"},u.a.createElement(U.k,{className:"grid-paper"},u.a.createElement("div",{className:"grid-content"},u.a.createElement(ft,{onError:this.onError,googleSSO:e,onLoginSuccess:a,onSuccess:r})))),u.a.createElement(U.i,{item:!0,xs:6,className:"grid"},u.a.createElement(U.k,{className:"grid-paper"},u.a.createElement("div",{className:"grid-content"},u.a.createElement(gt,{onLoginSuccess:a,handleClose:n,handleCredentialsSignOn:o,handleError:c,error:i}))))))))}}]),t}(u.a.Component),Et=function(e){function t(){var e,n;Object(ie.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r)))).onLoginSuccess=function(){},n.onLogout=function(){n.props.ndexSaveActions.setProfile(null)},n.handleClose=function(){n.props.ndexSaveActions.setNDExModalOpen(!1)},n.handleCredentialsSignOn=function(e){e.preventDefault(),n.props.ndexSaveActions.credentialsSignOn(e)},n.handleOnSuccess=function(e){n.props.ndexSaveActions.googleSignOn(e)},n.handleError=function(e){n.props.ndexSaveActions.setErrorMessage(e)},n}return Object(de.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.classes,Object(L.a)(e,["classes"])),n=this.props.ndexSave,a=this.onLogout,r=this.onLoginSuccess,o=this.handleClose,c=this.handleCredentialsSignOn,i=this.handleOnSuccess,s=this.handleError;return u.a.createElement("div",null,u.a.createElement(U.c,{className:"sign-in-container",open:n.ndexModal,onClose:o,"aria-labelledby":"form-dialog-title"},n.profile?u.a.createElement("div",{className:"sign-in-header"},u.a.createElement(U.a,{className:"ndex-account-avatar",src:n.profile.image},"U"),u.a.createElement(U.n,{variant:"h4",className:"ndex-account-greeting"},"Hi, ",n.profile.name),u.a.createElement(U.b,{onClick:a},"Logout")):u.a.createElement(ht,{handleClose:o,onLoginSuccess:r,onLogout:a,handleCredentialsSignOn:c,onSuccess:i,handleError:s,error:n.errorMessage}),u.a.createElement(mt,t)))}}]),t}(u.a.Component),bt=Object(y.withStyles)(function(e){return{}})(Et),Ot=n(210),vt=n.n(Ot),yt=Object(y.withStyles)(function(e){return{toolbar:{background:"#EFEFEF",height:"4em",padding:"0.5em",display:"flex",alignItems:"center",justifyContent:"center"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(ce.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(ce.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ke.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ke.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(ce.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}}),buttonIcon:{height:"2.5em",paddingLeft:"0.5em"},buttons:{padding:"0.3em",display:"flex",alignItems:"center",justifyContent:"flex-start",border:"solid 1px #999999"},openIcon:{marginRight:"0.5em"}}})(function(e){var t=e.classes,n=Object(L.a)(e,["classes"]);return u.a.createElement("div",{className:t.toolbar},u.a.createElement(U.m,{title:e.network.networkName},u.a.createElement(v.a,{className:t.title,variant:"subtitle1",color:"inherit",noWrap:!0},e.network.networkName)),u.a.createElement("div",{className:t.grow}),u.a.createElement(tt,n),u.a.createElement(bt,n,u.a.createElement(mt,n)),u.a.createElement("div",{className:t.buttons},u.a.createElement(vt.a,{color:"inherit",className:t.openIcon}),u.a.createElement(rt,n),u.a.createElement(ze,n)))}),St=[60,40],jt=function(e){var t=Object(l.useState)(null),n=Object(D.a)(t,2),a=n[0],r=n[1];return u.a.createElement("div",{className:"network-view-top"},u.a.createElement(yt,e),u.a.createElement(B.a,{sizes:St,direction:"vertical",gutterSize:6,className:"nv-container",onDragEnd:function(e){r(e)}},u.a.createElement(Z,Object.assign({resized:a},e)),u.a.createElement(Me,e)))},Ct=n(90),wt=n.n(Ct),Nt=n(108),kt=n.n(Nt),At=n(79),Tt=n.n(At),xt=[{value:"rank",label:"Rank"},{value:"name",label:"Name"},{value:"numNodes",label:"Number of Nodes"},{value:"numEdges",label:"Number of Edges"},{value:"overlap",label:"% Overlap"}],Rt=(Object(y.withStyles)(function(e){return{toolbar:{background:"#FFFFFF"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(ce.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),sortBy:{width:"15em"},search:Object(ce.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ke.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ke.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(ce.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}})(function(e){var t,n=e.classes,a=u.a.useState({sortBy:"rank"}),r=Object(D.a)(a,2),o=r[0],c=r[1];return u.a.createElement(kt.a,{select:!0,label:"Sort by:",value:o.sortBy,onChange:(t="sortBy",function(e){c(Object(b.a)({},o,Object(ce.a)({},t,e.target.value)))}),className:n.sortBy},xt.map(function(e){return u.a.createElement(Tt.a,{key:e.value,value:e.value},e.label)}))}),Object(y.withStyles)(function(e){return{inline:{display:"inline"},subtitle:{marginLeft:"1em",marginTop:"0.5em"},networkAvatar:{margin:5,color:"#fff",backgroundColor:"#FAFAFA"},menuItem:{"&:focus":{backgroundColor:"rgba(230,230,230,0.6)"}},menuText:{"&:focus":{}},secondary:{width:"15em",display:"flex",alignItems:"center",padding:"0.2em"},plot:{width:"80%",background:"teal"}}})(function(e){var t=e.classes,n=e.hits,a=e.renderNetworkListItem,r=(e.network,e.search);if(!n)return u.a.createElement("div",{className:"network-list-wrapper"});var o=r.results.genes;return u.a.createElement("div",{className:"network-list-wrapper"},u.a.createElement("div",{className:"network-list"},u.a.createElement(wt.a,null,n.map(function(e){return a(o.size,e,t)}))))})),Lt="http://test.ndexbio.org/integratedsearch/",Dt=function(e,t){var n="http://127.0.0.1:"+e+"/cyndex2/v1/networks/cx";return console.log("Calling CyREST POST:",n),fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})},It=function(e){var t=e.search.queryList,n=e.sourceUUID,a=e.search.results.jobId,r=function(e){(function(e){var t="http://127.0.0.1:"+e+"/v1";return console.log("Calling CyREST API:",t),fetch(t,{method:"GET"})})(e.cyrest.port).catch(function(e){throw Error(e)}).then(function(e){return o(e)}).then(function(t){e.cyrestActions.setAvailable(!0)}).catch(function(t){e.cyrestActions.setAvailable(!1)})},o=function(e){return void 0!==e},c=function(t){var n=e.search.results.jobId,a=e.search.searchResults,r=e.uiState.selectedSource;void 0!==a&&null!==a&&(console.log("** network changed:",n,r),e.history.push("/".concat(n,"/").concat(r,"/").concat(t)))};return u.a.createElement(B.a,{sizes:[35,65],gutterSize:7,className:"ndex-base"},u.a.createElement(Rt,Object.assign({renderNetworkListItem:function(o,i,s){var l=i.description,d=i.networkUUID,m=i.nodes,p=i.edges,f=i.imageURL,g=i.hitGenes,h=i.rank;return u.a.createElement(U.j,{button:!0,className:s.menuItem,key:d,onClick:function(o){return function(o,i,s,l,u){r(e),e.searchActions.setSelectedGenes([]),e.networkActions.networkFetchStarted({id:a,sourceUUID:n,networkUUID:o,networkName:i,geneList:t,hitGenes:u,nodeCount:s,edgeCount:l}),c(o)}(d,l,m,p,g)}},u.a.createElement(ke.a,null,u.a.createElement("img",{className:"list-icon",src:f})),u.a.createElement(oe.a,{primary:"Rank "+h+": "+l,secondary:u.a.createElement(u.a.Fragment,null,u.a.createElement(we.a,{title:"Number of nodes and edges",placement:"bottom"},u.a.createElement(v.a,{component:"span",className:s.inline},"N: "+m+", E: "+p)),"  Hit/Query = "+g.length+"/"+o)}))}},e)),u.a.createElement(jt,Object.assign({handleImportNetwork:function(){e.uiStateActions.setHighlights(!0),e.cyrestActions.importNetworkStarted({cx:e.network.originalCX,source:e.network.sourceId,uuid:e.network.uuid})}},e)))},Ft=function(e){var t=e.results;if(null===t||void 0===t)return u.a.createElement(J,{title:"Loading results",message:"Please wait..."});var n=t.sourceUUID;return u.a.createElement(It,Object.assign({hits:t.results,sourceUUID:n},e))},_t=function(e,t){return e[t].name},Pt=function(e,t){if(null===t||void 0===t)return null;for(var n=t.sources,a=n.length;a--;){var r=n[a];if(r.sourceName===e)return r}return null},Ut=Object(y.withStyles)(function(e){return{tabs:{width:"100%",backgroundColor:"#FFFFFF"}}})(function(e){var t=Object(l.useState)(0),n=Object(D.a)(t,2),a=n[0],r=n[1];Object(l.useEffect)(function(){o(0)},[]);var o=function(t){var n=e.search.results;if(null!==n&&void 0!==n){var r=n.jobId,o=e.search.searchResults;if(void 0!==o&&null!==o){var c=_t(i,a);console.log("** Tab change:",r,c),e.uiStateActions.setSelectedSource(c),e.history.push("/".concat(r,"/").concat(c))}}},c=(e.classes,Object(L.a)(e,["classes"])),i=e.source.sources;if(null===i||void 0===i)return u.a.createElement(G,null);var s=e.search.searchResults,d=_t(i,a),m=Pt(d,s);return u.a.createElement("div",{className:"results-container"},u.a.createElement("div",{className:"results-wrapper"},u.a.createElement(F.a,{value:a,onChange:function(t,n){r(n),o(n),e.networkActions.networkClear()}},i.map(function(e){return u.a.createElement(P.a,{key:e.uuid,label:e.name})})),u.a.createElement(Ft,Object.assign({results:m},c))))}),Gt=(n(469),n(118)),Bt=n.n(Gt),Ht=n(92),Mt=n.n(Ht),Kt=n(129),Xt=n.n(Kt),Wt=n(215),qt=n.n(Wt),Qt=n(7),zt=n.n(Qt),Vt=n(211),Yt=n.n(Vt),Jt=n(47),Zt=n.n(Jt),$t=n(59),en=n.n($t),tn=n(212),nn=n(117),an=n.n(nn),rn=n(128),on=n.n(rn),cn=n(127),sn=n.n(cn),ln=n(116),un=n.n(ln),dn=n(213),mn=n.n(dn),pn=function(e){var t=function(t,n){"clickaway"!==n&&e.setOpen(!1)};return u.a.createElement(un.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:e.open,autoHideDuration:4e3,onClose:t,ContentProps:{"aria-describedby":"message-id"},message:u.a.createElement("span",{id:"message-id"},"Genes are copied to clipboard!"),action:[u.a.createElement(Oe.a,{color:"inherit",key:"close","aria-label":"Close",onClick:t},u.a.createElement(mn.a,null))]})},fn=Object(y.withStyles)({root:{display:"flex",alignItems:"center",justifyContent:"center",width:"50vmin",padding:"0.3em",background:"#f1f1f1",marginLeft:"1em"},input:{marginLeft:8,flex:1},iconButton:{padding:10},divider:{width:1,height:28,margin:4}})(function(e){var t=e.classes,n=Object(l.useRef)(null),a=Object(l.useState)(e.search.queryGenes),r=Object(D.a)(a,2),o=r[0],c=r[1],i=Object(l.useState)(!1),s=Object(D.a)(i,2),d=s[0],m=s[1];Object(l.useEffect)(function(){return Object(tn.loadCSS)("https://use.fontawesome.com/releases/v5.1.0/css/all.css",document.querySelector("#insertion-point-jss")),function(){}},[]);var p=function(t){var n=o,a=e.source.sources;if(0!==n.length&&null!==a&&0!==a.length){var r=a.map(function(e){return e.name}),c=n.replace(","," "),i=c.split(/ /);e.searchActions.clearAll(),e.history.push("/"),e.searchActions.setQuery(c),e.searchActions.searchStarted({geneList:i,sourceNames:r})}};return u.a.createElement("div",null,u.a.createElement(pn,{open:d,setOpen:m}),u.a.createElement(Zt.a,{className:t.root,elevation:0},u.a.createElement(we.a,{title:"Copy",placement:"bottom"},u.a.createElement(Oe.a,{color:"default",className:t.iconButton,"aria-label":"Copy",onClick:function(){document.getElementById("original-gene-text").select(),document.execCommand("copy"),m(!0)}},u.a.createElement(an.a,{className:zt()(t.icon,"far fa-clipboard")}))),u.a.createElement(ge.a,{className:t.divider}),u.a.createElement(we.a,{title:"Clear gene list",placement:"bottom"},u.a.createElement(Oe.a,{color:"default",className:t.iconButton,"aria-label":"Clear",onClick:function(e){c("")}},u.a.createElement(sn.a,null))),u.a.createElement(ge.a,{className:t.divider}),u.a.createElement(en.a,{id:"original-gene-text",className:t.input,placeholder:"Genes entered",value:o,onChange:function(e){var t=e.target.value;c(t)},onKeyDown:function(e){"Enter"===e.key&&p()},ref:n}),u.a.createElement(we.a,{title:"Start new search",placement:"bottom"},u.a.createElement(Oe.a,{color:"primary",className:t.iconButton,"aria-label":"Directions",onClick:p},u.a.createElement(on.a,null)))))}),gn=n(214),hn=n.n(gn),En=function(e){function t(){var e,n;Object(ie.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r)))).handleMenu=function(){n.props.uiStateActions.setSettingsOpen(!n.props.uiState.isSettingsOpen)},n.handleHomeButton=function(){n.props.searchActions.clearAll(),n.props.history.push("/")},n}return Object(de.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=Object(L.a)(e,["classes"]),a=this.props.uiState.isSettingsOpen;return u.a.createElement(Bt.a,{position:"fixed",color:"inherit",className:zt()(t.appBar,Object(ce.a)({},t.appBarShift,a))},u.a.createElement(Mt.a,{disableGutters:!a},u.a.createElement(Oe.a,{className:zt()(t.menuButton,a&&t.hide),color:"inherit","aria-label":"Menu",onClick:this.handleMenu},u.a.createElement(Xt.a,null)),u.a.createElement(we.a,{title:"Search by Pathway Enrichment / Gene Neighborhoods / Keywords","aria-label":"NDEx_tooltip"},u.a.createElement("div",null,u.a.createElement(v.a,{variant:"h6",color:"inherit"},"NDEx Network Search"))),null===this.props.search.results?u.a.createElement("div",null):u.a.createElement(fn,n),u.a.createElement("div",{className:t.grow}),u.a.createElement("div",null,u.a.createElement(Oe.a,{"aria-haspopup":"true",color:"default",onClick:this.handleHomeButton},u.a.createElement(hn.a,{fontSize:"default"})),u.a.createElement(Oe.a,{"aria-haspopup":"true",color:"default",onClick:function(){return vn(bn)}},u.a.createElement(qt.a,{fontSize:"default"})),u.a.createElement(Oe.a,{color:"default","aria-label":"Home",onClick:function(){return vn(On)}},u.a.createElement("img",{alt:"NDEx logo",src:Yt.a,className:t.ndexLogo})))))}}]),t}(u.a.Component),bn="https://github.com/idekerlab/search-portal/wiki",On="https://www.ndexbio.org/",vn=function(e){window.open(e,"_blank")},yn=Object(y.withStyles)(function(e){return{root:{flexGrow:1},grow:{flexGrow:1},hide:{display:"none"},menuButton:{marginLeft:12,marginRight:10},ndexLogo:{height:"1em"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})}}},{withTheme:!0})(En),Sn=n(119),jn=n.n(Sn),Cn=n(217),wn=n.n(Cn),Nn=n(218),kn=n.n(Nn),An=n(221),Tn=n.n(An),xn=n(216),Rn=n.n(xn),Ln=n(156),Dn=n.n(Ln),In=n(219),Fn=n.n(In),_n=n(220),Pn=n.n(_n),Un=(n(477),function(e){function t(){var e,n;Object(ie.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(le.a)(this,(e=Object(ue.a)(t)).call.apply(e,[this].concat(r)))).handleServicesItemClick=function(){var e=n.props.uiState.servicesListOpen;n.props.uiStateActions.setServicesListOpen(!e)},n.handleDrawerClose=function(){var e=n.props.uiState.isSettingsOpen;n.props.uiStateActions.setSettingsOpen(!e)},n}return Object(de.a)(t,e),Object(se.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.theme,a=this.props.uiState.isSettingsOpen,r=this.props.source.sources,o=this.props.uiState.servicesListOpen;return u.a.createElement(jn.a,{className:t.drawer,variant:"persistent",anchor:"left",open:a,classes:{paper:t.drawerPaper}},u.a.createElement("div",{className:"drawerHeader"},u.a.createElement(Oe.a,{onClick:this.handleDrawerClose},"ltr"===n.direction?u.a.createElement(wn.a,null):u.a.createElement(kn.a,null))),u.a.createElement(ge.a,null),u.a.createElement(te.a,{className:t.root},u.a.createElement(ae.a,{button:!0,onClick:this.handleServicesItemClick},u.a.createElement(ke.a,null,u.a.createElement(Dn.a,null)),u.a.createElement(oe.a,{inset:!0,primary:"Services"}),o?u.a.createElement(Fn.a,null):u.a.createElement(Pn.a,null)),u.a.createElement(Re.a,{in:o,timeout:"auto",unmountOnExit:!0},u.a.createElement(te.a,{component:"div"},r.map(function(e){return u.a.createElement(we.a,{title:"Version: "+e.version,placement:"right",key:e.uuid},u.a.createElement(ae.a,{button:!0,key:e.uuid,className:t.nested},u.a.createElement(ke.a,null,u.a.createElement(Dn.a,null)),u.a.createElement(oe.a,{primary:e.name,secondary:" Status: "+e.status})))})))),u.a.createElement(ge.a,null),u.a.createElement(te.a,null,["Settings"].map(function(e,t){return u.a.createElement(ae.a,{button:!0,key:e},u.a.createElement(ke.a,null,u.a.createElement(Tn.a,null)),u.a.createElement(oe.a,{primary:e}))})),u.a.createElement(ge.a,null),u.a.createElement(te.a,null,Gn.map(function(e){return u.a.createElement(ae.a,{button:!0,key:e.name,onClick:function(){return Bn(e.url)}},u.a.createElement(ke.a,null,u.a.createElement("img",{src:e.src,height:"24px",width:"24px"})),u.a.createElement(oe.a,{primary:e.name}))})))}}]),t}(u.a.Component)),Gn=[{name:"Source Code",url:"https://github.com/idekerlab/search-portal",src:Rn.a}],Bn=function(e){window.open(e,"_blank")},Hn=Object(y.withStyles)(function(e){return{drawer:{width:240,flexShrink:0},drawerPaper:{width:240},nested:{paddingLeft:4*e.spacing.unit}}},{withTheme:!0})(Un),Mn=n(120),Kn=n.n(Mn),Xn=Object(y.withStyles)(function(e){return{root:{display:"flex",height:"100vmin"},drawerHeader:Object(b.a)({display:"flex",padding:"0 8px",alignItems:"center"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}},{withTheme:!0})(function(e){Object(l.useEffect)(function(){var t=new URLSearchParams(e.history.location.search).get("cyrestport");return t&&e.cyrestActions.setPort(t),function(){}},[]);var t=e.classes,n=Object(L.a)(e,["classes"]),a=e.uiState.isSettingsOpen;return u.a.createElement("div",{className:t.root},u.a.createElement(Kn.a,null),u.a.createElement(yn,n),u.a.createElement(Hn,n),u.a.createElement("div",{className:zt()(t.content,Object(ce.a)({},t.contentShift,a))}),e.children)}),Wn=function(e){Object(l.useEffect)(function(){if(null!==e.search.results){var n=e.search.results.jobId;e.searchActions.fetchResultStarted({jobId:n})}return window.onpopstate=t,function(){}},[]);var t=function(t){t.preventDefault(),e.searchActions.clearAll(),e.history.push("/")},n=e.search,a=n.isFetching,r=n.searchResult;return a&&null===r?u.a.createElement(Xn,e,u.a.createElement(J,{title:"Loading Results..."})):u.a.createElement(Xn,e,u.a.createElement("div",{className:"container"},u.a.createElement(R,Object.assign({className:"input"},e)),u.a.createElement(Ut,Object.assign({className:"results"},e))))},qn=n(488),Qn="SET_QUERY",zn="CLEAR_QUERY",Vn="SEARCH_STARTED",Yn="SEARCH_SUCCEEDED",Jn="SEARCH_FAILED",Zn="SET_SEARCH_RESULT",$n="FETCH_RESULT_STARTED",ea="FETCH_RESULT_SUCCEEDED",ta="FETCH_RESULT_FAILED",na="CLEAR_ALL",aa="SET_SELECTED_GENES",ra=Object(qn.a)(Qn),oa=Object(qn.a)(zn),ca=Object(qn.a)(Vn),ia=Object(qn.a)(Yn),sa=Object(qn.a)(Jn),la=Object(qn.a)(Zn),ua=Object(qn.a)($n),da=Object(qn.a)(ea),ma=Object(qn.a)(ta),pa=Object(qn.a)(na),fa=Object(qn.a)(aa),ga="SET_SETTINGS_OPEN",ha=Object(qn.a)(ga),Ea="SET_CYTOSCAPE_STATUS",ba=Object(qn.a)(Ea),Oa="SET_SERVICES_LIST_OPEN",va=Object(qn.a)(Oa),ya="SET_HIGHLIGHTS",Sa=Object(qn.a)(ya),ja="SET_SELECTED_SOURCE",Ca=Object(qn.a)(ja),wa="NETWORK_FETCH_STARTED",Na="NETWORK_FETCH_SUCCEEDED",ka="NETWORK_FETCH_FAILED",Aa="NETWORK_CLEAR",Ta="SELECT_NODE",xa="SELECT_EDGE",Ra="DESELECT_ALL",La=Object(qn.a)(wa),Da=Object(qn.a)(Na),Ia=Object(qn.a)(ka),Fa=Object(qn.a)(Aa),_a=Object(qn.a)(Ta),Pa=Object(qn.a)(xa),Ua=Object(qn.a)(Ra),Ga="FIND_SOURCE_STARTED",Ba="FIND_SOURCE_SUCCEEDED",Ha="FIND_SOURCE_FAILED",Ma=Object(qn.a)(Ga),Ka=Object(qn.a)(Ba),Xa=Object(qn.a)(Ha),Wa="IMPORT_NETWORK_STARTED",qa="IMPORT_NETWORK_SUCCEEDED",Qa="IMPORT_NETWORK_FAILED",za=Object(qn.a)(Wa),Va=Object(qn.a)(qa),Ya=Object(qn.a)(Qa),Ja="SET_PORT",Za=Object(qn.a)(Ja),$a="SET_AVAILABLE",er=Object(qn.a)($a),tr="SET_NDEX_MODAL_OPEN",nr=Object(qn.a)(tr),ar="SET_PROFILE",rr=Object(qn.a)(ar),or="CREDENTIALS_SIGN_ON",cr=Object(qn.a)(or),ir="GOOGLE_SIGN_ON",sr=Object(qn.a)(ir),lr="SAVE_TO_NDEX",ur=Object(qn.a)(lr),dr="SET_NETWORK_URL",mr=Object(qn.a)(dr),pr="SET_ERROR_MESSAGE",fr=Object(qn.a)(pr),gr=n(46);var hr=Object(g.f)(Object(m.b)(function(e){return{search:e.search,uiState:e.uiState,network:e.network,source:e.source,cyrest:e.cyrest,ndexSave:e.ndexSave}},function(e){return{searchActions:Object(d.bindActionCreators)(a,e),uiStateActions:Object(d.bindActionCreators)(r,e),networkActions:Object(d.bindActionCreators)(o,e),sourceActions:Object(d.bindActionCreators)(c,e),cyrestActions:Object(d.bindActionCreators)(i,e),ndexSaveActions:Object(d.bindActionCreators)(s,e)}})(function(e){return Object(l.useEffect)(function(){e.history.listen(function(e){var t=e.pathname;console.log("(((((((((((((MainPathname =  ====",t),gr.a.set({page:t}),gr.a.pageview(t)})},[]),u.a.createElement(Wn,e)})),Er=(n(201),n(121)),br=n.n(Er),Or=n(223).examples,vr=Object(y.withStyles)({root:{padding:"2px 4px",display:"flex",alignItems:"center"},input:{marginLeft:8,flex:1},iconButton:{padding:10},divider:{width:1,height:28,margin:4}})(function(e){var t=e.classes,n=Object(l.useState)({anchorEl:null,query:""}),a=Object(D.a)(n,2),r=a[0],o=a[1];Object(l.useEffect)(function(){if(void 0!==e.search&&null!==e.search.results){var t=e.search.results.jobId,n=e;console.log("** Search route:",t,n),e.history.push("/".concat(t))}return function(){console.log("Page unmounted")}},[]);var c,i=Boolean(r.anchorEl),s=function(t){var n=r.query,a=e.source.sources;if(0!==n.length&&null!==a&&0!==a.length){var o=a.map(function(e){return e.name}),c=d(n),i=c.split(/ /);e.searchActions.setQuery(c),e.searchActions.searchStarted({geneList:i,sourceNames:o})}},d=function(e){return e.replace(","," ")};return u.a.createElement(Zt.a,{className:"search-text-box",elevation:1},u.a.createElement("div",null,u.a.createElement(Oe.a,{className:t.iconButton,"aria-label":"Menu",onClick:function(e){o(Object(b.a)({},r,{anchorEl:e.currentTarget}))}},u.a.createElement(Xt.a,null)),u.a.createElement(br.a,{anchorEl:r.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:function(){o(Object(b.a)({},r,{anchorEl:null}))}},Or.map(function(t,n){return u.a.createElement(Tt.a,{key:n,onClick:function(){return t=n,void o(Object(b.a)({},e,{query:Or[t],anchorEl:null}));var t}},"Gene List ",n+1)}))),u.a.createElement(ge.a,{className:t.divider}),u.a.createElement(Oe.a,{color:"default",className:t.iconButton,"aria-label":"Directions",onClick:function(){o(Object(b.a)({},r,{query:""}))}},u.a.createElement(sn.a,null)),u.a.createElement(en.a,{className:t.input,placeholder:"Enter gene list (...or click menu for examples)",onChange:(c="query",function(t){o(Object(b.a)({},e,Object(ce.a)({},c,t.target.value)))}),onKeyDown:function(e){"Enter"===e.key&&s()},value:r.query}),u.a.createElement(Oe.a,{color:"primary",className:t.iconButton,"aria-label":"Search",onClick:s},u.a.createElement(on.a,null)))}),yr=n(224),Sr=n.n(yr),jr="https://cytoscape.org/",Cr="https://www.ndexbio.org/",wr="https://medschool.ucsd.edu/som/medicine/research/labs/ideker/Pages/default.aspx",Nr=function(e){window.open(e,"_blank")},kr=function(e){return u.a.createElement("footer",{className:"footer-container"},u.a.createElement(v.a,{variant:"subtitle1"},"\xa9 2019 UC, San Diego Ideker Lab"),u.a.createElement("img",{alt:"NDEx logo",src:at.a,className:"footer-logo",onClick:function(){return Nr(Cr)}}),u.a.createElement("img",{alt:"Cytoscape logo",src:Qe.a,className:"footer-logo",onClick:function(){return Nr(jr)}}),u.a.createElement("img",{alt:"UCSD logo",src:Sr.a,className:"footer-logo",onClick:function(){return Nr(wr)}}))},Ar=n(225),Tr=n.n(Ar),xr=function(e){return Object(l.useEffect)(function(){var t=Tr.a.parse(e.location.search).genes;if(void 0!==t){var n=t.split(",");e.searchActions.setQuery(t),console.log("Got genes.  Start search now!",n),e.searchActions.searchStarted({geneList:n})}return e.sourceActions.findSourceStarted(),function(){console.log("Page unmounted")}},[]),e.search.isSearching?u.a.createElement(J,{title:"Searching Remote Database",message:"Please wait..."}):u.a.createElement("div",{className:"start-container"},u.a.createElement("div",{className:"start-title"},u.a.createElement("img",{className:"start-logo-main",src:at.a,alt:"logo"})),u.a.createElement(vr,e),u.a.createElement(kr,null))},Rr=function(e){return u.a.createElement(Xn,e,u.a.createElement(xr,e))};var Lr=Object(g.f)(Object(m.b)(function(e){return{search:e.search,uiState:e.uiState,network:e.network,source:e.source,cyrest:e.cyrest,ndexSave:e.ndexSave}},function(e){return{searchActions:Object(d.bindActionCreators)(a,e),uiStateActions:Object(d.bindActionCreators)(r,e),networkActions:Object(d.bindActionCreators)(o,e),sourceActions:Object(d.bindActionCreators)(c,e),cyrestActions:Object(d.bindActionCreators)(i,e),ndexSaveActions:Object(d.bindActionCreators)(s,e)}})(function(e){return Object(l.useEffect)(function(){var t=e.location.pathname;gr.a.set({page:t}),gr.a.pageview(t),e.history.listen(function(e){var t=e.pathname;gr.a.set({page:t}),gr.a.pageview(t)})},[]),u.a.createElement(Rr,e)})),Dr=function(e){return u.a.createElement(Lr,e)},Ir=function(e){return u.a.createElement(hr,e)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Fr,_r,Pr,Ur=n(487),Gr={isSearching:!1,searchFinished:[],isFetching:!1,queryGenes:"",queryList:[],results:null,searchStatus:null,searchResults:null,selectedGenes:[],resultList:[]},Br=Object(Ur.a)((Fr={},Object(ce.a)(Fr,ra,function(e,t){return Object(b.a)({},e,{queryGenes:t.payload})}),Object(ce.a)(Fr,oa,function(e,t){return Object(b.a)({},e,{queryGenes:"",queryList:[]})}),Object(ce.a)(Fr,pa,function(e,t){return Gr}),Object(ce.a)(Fr,ca,function(e,t){console.log("------------ Start  1 ------------------::");var n=t.payload.sourceNames,a=(n.length,{});return n.forEach(function(e){a[e]=!1}),Object(b.a)({},e,{isSearching:!0,searchFinished:a,resultList:[],queryList:e.queryGenes.split(" ")})}),Object(ce.a)(Fr,ia,function(e,t){return Object(b.a)({},e,{results:t.payload,isSearching:!1})}),Object(ce.a)(Fr,sa,function(e,t){return Object(b.a)({},e,{isSearching:!1})}),Object(ce.a)(Fr,fa,function(e,t){return console.log("Setting selected gene:",t),Object(b.a)({},e,{selectedGenes:t.payload})}),Object(ce.a)(Fr,ua,function(e,t){return Object(b.a)({},e,{isFetching:!0,searchStatus:null,searchResults:null})}),Object(ce.a)(Fr,da,function(e,t){return Object(b.a)({},e,{isFetching:!1})}),Object(ce.a)(Fr,ma,function(e,t){return Object(b.a)({},e,{isFetching:!1})}),Object(ce.a)(Fr,la,function(e,t){var n=t.payload.singleResult,a=[].concat(Object(j.a)(e.resultList),[n]);return console.log("------------ Setting single ------------------::",a),Object(b.a)({},e,{searchResults:n})}),Fr),Gr),Hr=Object(Ur.a)((_r={},Object(ce.a)(_r,ha,function(e,t){return console.log("OPEN = ",t.payload),Object(b.a)({},e,{isSettingsOpen:t.payload})}),Object(ce.a)(_r,va,function(e,t){return Object(b.a)({},e,{servicesListOpen:t.payload})}),Object(ce.a)(_r,Sa,function(e,t){return Object(b.a)({},e,{highlights:t.payload})}),Object(ce.a)(_r,Ca,function(e,t){return Object(b.a)({},e,{selectedSource:t.payload})}),_r),{isSettingsOpen:!1,servicesListOpen:!1,highlights:!0,selectedSource:""}),Mr=n(159),Kr=n(226),Xr=new Mr.CyNetworkUtils,Wr=new Mr.CxToJs(Xr);Kr[0].style.push({selector:"node:selected",css:{"background-color":"red",color:"#FFFFFF","background-opacity":1,"border-width":0,width:100,height:100}});var qr,Qr,zr,Vr={selector:"node.faded",css:{opacity:.9}},Yr={selector:"edge.faded",css:{opacity:.9}},Jr={selector:".highlight",css:{opacity:1,"overlay-color":"#C51162","overlay-padding":12,"overlay-opacity":.5}},Zr={selector:"node:active",css:{"overlay-color":"#FFFF66","overlay-padding":25,"overlay-opacity":.3}},$r=Object(Ur.a)((Pr={},Object(ce.a)(Pr,La,function(e,t){return console.log("Query start: genes = ",t),Object(b.a)({},e,{isFetching:!0,nodeCount:t.payload.nodeCount,edgeCount:t.payload.edgeCount,jobId:t.payload.id,sourceId:t.payload.sourceUUID,uuid:t.payload.networkUUID,networkName:t.payload.networkName,queryGenes:t.payload.geneList,hitGenes:t.payload.hitGenes,originalCX:null,network:null,isLayoutComplete:!1,backgroundColor:"blue"})}),Object(ce.a)(Pr,Da,function(e,t){var n=t.cx,a={},r={};if(e.nodeCount+e.edgeCount<=5e3){try{a=eo(n,e.queryGenes)}catch(o){throw console.warn("Could not convert given CX to CYJS:",o),new Error("Could not convert given CX to CYJS:",o)}r=to(n)}return Object(b.a)({},e,{originalCX:n,network:a,backgroundColor:r,isFetching:!1})}),Object(ce.a)(Pr,Ia,function(e,t){return Object(b.a)({},e,{network:null,originalCX:null,isFetching:!1,nodeCount:void 0,edgeCount:void 0})}),Object(ce.a)(Pr,Fa,function(e,t){return Object(b.a)({},e,{uuid:"",originalCX:null,network:null,backgroundColor:null,isFetching:!1,nodeCount:void 0,edgeCount:void 0})}),Object(ce.a)(Pr,_a,function(e,t){return Object(b.a)({},e,{selectedNode:t.payload,selectedEdge:null})}),Object(ce.a)(Pr,Pa,function(e,t){return Object(b.a)({},e,{selectedNode:null,selectedEdge:t.payload})}),Object(ce.a)(Pr,Ua,function(e,t){return Object(b.a)({},e,{selectedNode:null,selectedEdge:null})}),Pr),{isFetching:!1,uuid:"",jobId:"",sourceId:"",networkName:"",queryGenes:[],hitGenes:[],originalCX:null,network:null,nodeCount:0,edgeCount:0,isLayoutComplete:!1,selectedNode:null,selectedEdge:null}),eo=function(e,t){var n=Xr.rawCXtoNiceCX(e),a={},r=Wr.cyElementsFromNiceCX(n,a),o=Wr.cyStyleFromNiceCX(n,a),c=ro(o),i=no(r.nodes,t);return{elements:[].concat(Object(j.a)(i),Object(j.a)(r.edges)),style:c,isLayout:ao(r.nodes)}},to=function(e){var t=e.filter(function(e){return e.cyVisualProperties});return void 0!==t&&null!==t&&0!==t.length?t[0].cyVisualProperties.filter(function(e){return"network"===e.properties_of})[0].properties.NETWORK_BACKGROUND_PAINT:"pink"},no=function(e,t){for(var n=e.length,a=new Set(t.map(function(e){return e.toUpperCase()}));n--;){var r=e[n],o=(r.position,r.data.name?r.data.name.toUpperCase():null);a.has(o)&&(r.data.query="true")}return e},ao=function(e){return void 0!==e[0].position},ro=function(e){return e.push(Vr),e.push(Yr),e.push(Jr),e.push(Zr),e},oo=$r,co=Object(Ur.a)((qr={},Object(ce.a)(qr,Ma,function(e,t){return Object(b.a)({},e,{isFetchingSource:!0,error:null,sources:[]})}),Object(ce.a)(qr,Ka,function(e,t){return Object(b.a)({},e,{sources:t.sources,isFetchingSource:!1,error:null})}),Object(ce.a)(qr,Xa,function(e,t){return console.warn("Error:",t.error),Object(b.a)({},e,{isFetchingSource:!1,error:t.error,sources:[]})}),qr),{isFetchingSource:!1,sources:[],error:null}),io=Object(Ur.a)((Qr={},Object(ce.a)(Qr,za,function(e,t){return Object(b.a)({},e,{error:null})}),Object(ce.a)(Qr,Va,function(e,t){return Object(b.a)({},e,{error:null})}),Object(ce.a)(Qr,Ya,function(e,t){return console.warn("Error===",t.error),Object(b.a)({},e,{error:t.error})}),Object(ce.a)(Qr,Za,function(e,t){return console.log("CyREST port = ",t.payload),Object(b.a)({},e,{port:t.payload})}),Object(ce.a)(Qr,er,function(e,t){return console.log("CyREST available = ",t.payload),Object(b.a)({},e,{available:t.payload})}),Qr),{available:!1,port:1234,error:null}),so=Object(Ur.a)((zr={},Object(ce.a)(zr,nr,function(e,t){return console.log("OPEN = ",t.payload),Object(b.a)({},e,{ndexModal:t.payload,errorMessage:null,networkUrl:null})}),Object(ce.a)(zr,rr,function(e,t){return Object(b.a)({},e,{profile:t.payload})}),Object(ce.a)(zr,cr,function(e,t){return Object(b.a)({},e)}),Object(ce.a)(zr,sr,function(e,t){return Object(b.a)({},e)}),Object(ce.a)(zr,ur,function(e,t){return Object(b.a)({},e)}),Object(ce.a)(zr,fr,function(e,t){return Object(b.a)({},e,{errorMessage:t.payload})}),Object(ce.a)(zr,mr,function(e,t){return Object(b.a)({},e,{networkUrl:t.payload})}),zr),{ndexModal:!1,profile:null,errorMessage:null,networkUrl:null}),lo=Object(d.combineReducers)({source:co,search:Br,uiState:Hr,network:oo,cyrest:io,ndexSave:so}),uo=n(26),mo=n.n(uo),po=n(9),fo=function(e,t,n){var a=Lt+e+"/overlaynetwork?sourceUUID="+t+"&networkUUID="+n;return console.log("Calling CX API:",a),fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}})},go=function(e){return fetch("http://mygene.info/v3/query?q="+e+"&scopes=symbol&fields=symbol,name,taxid,entrezgene,summary,genomic_pos,go,pathway",{method:"POST"})},ho=function(){return fetch("http://test.ndexbio.org/integratedsearch/source",{method:"GET",mode:"cors"}).then(function(e){if(!e.ok)throw Error("Failed to fetch source list:"+e.status);return e}).catch(function(e){return{error:e}})},Eo=function(e){return fetch(Lt+e+"/status",{method:"GET"}).then(function(e){if(!e.ok)throw Error("Failed to fetch source list:"+e.status);return e}).catch(function(e){return{error:e}})},bo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new URL(Lt+e);return null!==t&&n.searchParams.append("source",t),console.log("QQQQQQQQQQQQQQ URL = ",n,t),fetch(n,{method:"GET"}).then(function(e){if(!e.ok)throw Error("Failed to fetch search result:"+e.status);return e}).catch(function(e){return{error:e}})},Oo=function(e,t){var n={geneList:e,sourceList:t};console.log("Sending query to search service:",n);var a=new Headers({"Content-Type":"application/json"});return fetch("http://test.ndexbio.org/integratedsearch/",{method:"POST",headers:a,body:JSON.stringify(n)}).then(function(e){if(!e.ok)throw Error("Failed to send query:"+e.status);return e}).catch(function(e){return{error:e}})},vo=mo.a.mark(ko),yo=mo.a.mark(Ao),So=mo.a.mark(xo),jo=mo.a.mark(Ro),Co=mo.a.mark(Lo),wo=1e3,No=["enrichment","interactome"];function ko(){return mo.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(po.e)(Vn,Ao);case 2:return e.next=4,Object(po.e)($n,xo);case 4:return e.next=6,Object(po.e)(wa,Ro);case 6:return e.next=8,Object(po.e)(Ga,Lo);case 8:case"end":return e.stop()}},vo)}function Ao(e){var t,n,a,r,o,c,i,s,l,u,d,m,p,f,g;return mo.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(t=e.payload.geneList,void 0!==(n=e.payload.sourceNames)){h.next=13;break}return h.next=5,Object(po.b)(ho,null);case 5:return a=h.sent,h.next=8,Object(po.b)([a,"json"]);case 8:r=h.sent,o=r.results,n=(n=o.map(function(e){return e.name})).filter(function(e){return"keyword"!==e}),console.log("Getting source list: ",n);case 13:return c=t.join(),h.prev=14,h.next=17,Object(po.a)([Object(po.b)(go,c),Object(po.b)(Oo,t,n)]);case 17:return i=h.sent,s=Object(D.a)(i,2),l=s[0],u=s[1],h.next=23,Object(po.b)([l,"json"]);case 23:return d=h.sent,m=u.headers.get("Location"),p=m.split("/"),f=p[p.length-1],g=Do(d),h.next=30,Object(po.c)({type:Yn,payload:{genes:g.uniqueGeneMap,notFound:g.notFound,resultLocation:m,jobId:f}});case 30:h.next=37;break;case 32:return h.prev=32,h.t0=h.catch(14),console.warn("NDEx search error:",h.t0),h.next=37,Object(po.c)({type:Jn,payload:{message:"NDEx network search error",query:c,error:h.t0.message}});case 37:case"end":return h.stop()}},yo,null,[[14,32]])}var To=function(e){return new Promise(function(t){return setTimeout(t,e)})};function xo(e){var t,n,a,r,o,c,i,s,l,u,d,m,p,f,g;return mo.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:t=e.payload.jobId,n={},h.prev=2;case 3:return h.next=6,Object(po.b)(Eo,t);case 6:return a=h.sent,h.next=9,Object(po.b)([a,"json"]);case 9:if(r=h.sent,100!==r.progress){h.next=23;break}return h.next=14,Object(po.b)(bo,t);case 14:return o=h.sent,h.next=17,Object(po.b)([o,"json"]);case 17:return c=h.sent,h.next=20,Object(po.c)({type:Zn,payload:{singleResult:c}});case 20:return h.next=22,Object(po.c)({type:ea,payload:{searchResults:c}});case 22:return h.abrupt("return");case 23:i=r.sources,s=i.length;case 25:if(!s--){h.next=40;break}if(l=i[s],u=l.progress,d=l.sourceName,100!==u){h.next=38;break}return h.next=31,Object(po.b)(bo,t,d);case 31:return m=h.sent,h.next=34,Object(po.b)([m,"json"]);case 34:return p=h.sent,n[d]=p,h.next=38,Object(po.c)({type:Zn,payload:{singleResult:p}});case 38:h.next=25;break;case 40:return h.next=42,Object(po.b)(To,wo);case 42:h.next=3;break;case 44:return h.next=46,Object(po.b)(bo,t);case 46:return f=h.sent,h.next=49,Object(po.b)([f,"json"]);case 49:return g=h.sent,h.next=52,Object(po.c)({type:ea,payload:{searchResults:g}});case 52:h.next=59;break;case 54:return h.prev=54,h.t0=h.catch(2),console.warn("NDEx search error:",h.t0),h.next=59,Object(po.c)({type:ta,payload:{message:"Failed to fetch search result",jobId:t,error:h.t0.message}});case 59:case"end":return h.stop()}},So,null,[[2,54]])}function Ro(e){var t,n,a,r,o,c;return mo.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.payload,n=t.id,a=t.sourceUUID,r=t.networkUUID,i.next=7,Object(po.b)(fo,n,a,r);case 7:return o=i.sent,i.next=10,Object(po.b)([o,"json"]);case 10:return c=i.sent,console.log("Network fetched: ",c),i.next=14,Object(po.c)({type:Na,cx:c});case 14:i.next=20;break;case 16:return i.prev=16,i.t0=i.catch(0),i.next=20,Object(po.c)({type:ka,error:i.t0});case 20:case"end":return i.stop()}},jo,null,[[0,16]])}function Lo(e){var t,n,a,r;return mo.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(po.b)(ho,null);case 3:return t=e.sent,e.next=6,Object(po.b)([t,"json"]);case 6:return n=e.sent,a=n.results.filter(function(e){return No.includes(e.name)}),r=a.sort(function(e,t){return No.indexOf(e.name)-No.indexOf(t.name)}),e.next=11,Object(po.c)({type:Ba,sources:r});case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),e.next=17,Object(po.c)({type:Ha,error:e.t0});case 17:case"end":return e.stop()}},Co,null,[[0,13]])}var Do=function(e){for(var t=new Map,n=[],a=e.length;a--;){var r=e[a];r.notfound?n.push(r.query):t.set(r.query,r)}return{uniqueGeneMap:t,notFound:n}},Io=mo.a.mark(_o),Fo=mo.a.mark(Uo);function _o(){return mo.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(po.e)(Wa,Uo);case 2:case"end":return e.stop()}},Io)}var Po=function(e){return e.cyrest.port};function Uo(e){var t,n,a,r,o;return mo.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload.cx,c.prev=1,c.next=4,Object(po.d)(Po);case 4:return n=c.sent,a=!0,t.forEach(function(e){e.numberVerification&&(a=!1)}),r=(a?[{numberVerification:[{longNumber:0xffffffffffff}]}]:[]).concat(t),c.next=10,Object(po.b)(Dt,n,r);case 10:return o=c.sent,console.log("CyREST response:",o),c.next=14,Object(po.c)({type:qa,payload:{}});case 14:c.next=21;break;case 16:return c.prev=16,c.t0=c.catch(1),console.warn("CyREST import network error:",c.t0),c.next=21,Object(po.c)({type:Qa,payload:{message:"CyREST import network error",error:c.t0.message}});case 21:case"end":return c.stop()}},Fo,null,[[1,16]])}var Go=function(e){return console.log("Calling NDEx validation with headers: ",e),fetch("http://ndexbio.org/v2/user?valid=true",{method:"GET",headers:e})},Bo=function(e,t){return console.log("Calling Save-to-NDEx"),fetch("http://ndexbio.org/v2/network",{method:"POST",headers:t,body:JSON.stringify(e)})},Ho=mo.a.mark(Wo),Mo=mo.a.mark(qo),Ko=mo.a.mark(Qo),Xo=mo.a.mark(zo);function Wo(){return mo.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(po.e)(ir,qo);case 2:return e.next=4,Object(po.e)(or,Qo);case 4:return e.next=6,Object(po.e)(lr,zo);case 6:case"end":return e.stop()}},Ho)}function qo(e){var t,n,a,r,o;return mo.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,n=t.tokenObj.token_type+" "+t.tokenObj.id_token,a={name:t.profileObj.name,image:t.profileObj.imageUrl,authorization:{type:"google",token:n}},r=new Headers({Authorization:a.authorization.token}),c.prev=4,c.next=7,Object(po.b)(Go,r);case 7:return c.next=9,Object(po.c)({type:ar,payload:a});case 9:c.next=16;break;case 11:if(c.prev=11,c.t0=c.catch(4),!(o=c.t0.response.data.message||"Failed to verify account. "+c.t0).startsWith("User with email")||!o.endsWith("doesn't exist.")){c.next=16;break}return c.abrupt("return");case 16:case"end":return c.stop()}},Mo,null,[[4,11]])}function Qo(e){var t,n,a,r,o,c,i;return mo.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.basicAuthSignIn.accountName.value,n=window.basicAuthSignIn.password.value,a="Basic "+window.btoa(t+":"+n),r=new Headers({Authorization:a}),e.prev=4,e.next=7,Object(po.b)(Go,r);case 7:return o=e.sent,console.log("resp",o),e.next=11,Object(po.b)([o,"json"]);case 11:if(c=e.sent,console.log("responseJson",c),console.log("headers",o.headers.get("Authorization")),200==o.status){e.next=19;break}return e.next=17,Object(po.c)({type:pr,payload:c.message});case 17:e.next=22;break;case 19:return i={name:c.firstName,image:c.image,authorization:{type:"ndex",token:a}},e.next=22,Object(po.c)({type:ar,payload:i});case 22:e.next=29;break;case 24:return e.prev=24,e.t0=e.catch(4),console.log(e.t0),e.next=29,Object(po.c)({type:pr,payload:"Unknown error"});case 29:case"end":return e.stop()}},Ko,null,[[4,24]])}function zo(e){var t,n,a,r,o,c;return mo.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload.token,n=e.payload.cx,a=new Headers({"Content-Type":"application/json",Authorization:t}),i.next=5,Object(po.b)(Bo,n,a);case 5:return r=i.sent,console.log("resp",r),console.log("resp.body"+r.body),i.next=10,Object(po.b)([r,"text"]);case 10:return o=i.sent,c=o.replace("/v2/","/#/"),console.log("networkURL",c),i.next=15,Object(po.c)({type:dr,payload:c});case 15:case"end":return i.stop()}},Xo)}gr.a.initialize("UA-62588031-6",{gaOptions:{siteSpeedSampleRate:100}});var Vo={SetQuery:Qn,OpenInCytoscape:"OPEN_IN_CYTOSCAPE",NetworkSelected:"NETWORK_FETCH_STARTED"},Yo=function(e){var t=e.type;if(console.log("*** Event handler:::",e),t===Qn)gr.a.event({category:"User Action",action:Vo.SetQuery,label:e.payload});else if("IMPORT_NETWORK_STARTED"===t)gr.a.event({category:"User Action",action:Vo.OpenInCytoscape,label:e.payload.uuid});else{if(void 0===e.payload||null==e.payload)return;gr.a.event({category:"User Action",action:Vo.NetworkSelected,label:"".concat(e.payload.sourceUUID,"/").concat(e.payload.networkUUID)})}},Jo=Object(h.a)(),Zo=Object(d.createStore)(lo,Object(E.composeWithDevTools)(Object(d.applyMiddleware)(Jo),Object(d.applyMiddleware)(function(e){return function(e){return function(t){return Yo(t),e(t)}}})));Jo.run(ko),Jo.run(_o),Jo.run(Wo);Object(p.render)(u.a.createElement(function(e){var t=e.store;return u.a.createElement(m.a,{store:t},u.a.createElement(f.a,{basename:""},u.a.createElement(g.c,null,u.a.createElement(g.a,{exact:!0,path:"/",component:Dr}),u.a.createElement(g.a,{path:"/:jobid/:sourceId/:networkId",component:Ir}),u.a.createElement(g.a,{path:"/:jobid/:sourceId",component:Ir}),u.a.createElement(g.a,{path:"/:jobid",component:Ir}))))},{store:Zo}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},72:function(e,t,n){},80:function(e,t,n){e.exports=n.p+"static/media/ndex-logo.04d7bf44.svg"}},[[281,1,2]]]);
//# sourceMappingURL=main.08ece9f4.chunk.js.map