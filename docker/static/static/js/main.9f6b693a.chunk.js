(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,t,n){},167:function(e,t,n){},184:function(e,t,n){e.exports=n.p+"static/media/github.617870e4.svg"},194:function(e,t,n){e.exports=n.p+"static/media/ucsd-logo.5838f23e.svg"},195:function(e,t,n){e.exports=n.p+"static/media/dna.9c807c9d.svg"},196:function(e,t,n){e.exports=n.p+"static/media/idea.c30260f3.svg"},197:function(e,t,n){e.exports=n.p+"static/media/disconnected.243cf575.svg"},199:function(e){e.exports=[{format_version:"1.0",generated_by:"cytoscape-3.7.1",target_cytoscapejs_version:"~2.1",title:"Dark2",style:[{selector:"node",css:{height:34,color:"rgb(255,255,255)","background-opacity":0,"font-family":"SFProText-Medium","font-weight":"normal","border-width":2,"text-valign":"center","text-halign":"center","font-size":19,"text-opacity":1,width:105,shape:"roundrectangle","border-color":"rgb(153,153,153)","background-color":"rgb(255,255,255)","border-opacity":1,content:"data(name)"}},{selector:"node[type = 'phenotype']",css:{height:70}},{selector:"node[type = 'smallmolecule']",css:{height:20}},{selector:"node[type = 'complex']",css:{height:180}},{selector:"node[type = 'stimulus']",css:{height:20}},{selector:"node[type = 'smallmolecule']",css:{"text-valign":"bottom"}},{selector:"node[type = 'stimulus']",css:{"text-valign":"bottom"}},{selector:"node[type = 'phenotype']",css:{"border-color":"rgb(255,255,255)"}},{selector:"node[type = 'smallmolecule']",css:{"border-color":"rgb(255,127,0)"}},{selector:"node[type = 'complex']",css:{"border-color":"rgb(0,102,204)"}},{selector:"node[type = 'protein']",css:{"border-color":"rgb(255,255,255)"}},{selector:"node[type = 'proteinfamily']",css:{"border-color":"rgb(51,153,0)"}},{selector:"node[type = 'stimulus']",css:{"border-color":"rgb(255,255,51)"}},{selector:"node[type = 'phenotype']",css:{"font-size":20}},{selector:"node[type = 'complex']",css:{"font-size":28}},{selector:"node[type = 'phenotype']",css:{"background-color":"rgb(102,204,255)"}},{selector:"node[type = 'smallmolecule']",css:{"background-color":"rgb(255,127,0)"}},{selector:"node[type = 'complex']",css:{"background-color":"rgb(204,204,204)"}},{selector:"node[type = 'protein']",css:{"background-color":"rgb(77,175,74)"}},{selector:"node[type = 'proteinfamily']",css:{"background-color":"rgb(152,78,163)"}},{selector:"node[type = 'stimulus']",css:{"background-color":"rgb(255,255,0)"}},{selector:"node[type = 'phenotype']",css:{width:220}},{selector:"node[type = 'smallmolecule']",css:{width:20}},{selector:"node[type = 'complex']",css:{width:180}},{selector:"node[type = 'stimulus']",css:{width:20}},{selector:"node[type = 'phenotype']",css:{shape:"roundrectangle"}},{selector:"node[type = 'smallmolecule']",css:{shape:"hexagon"}},{selector:"node[type = 'complex']",css:{shape:"ellipse"}},{selector:"node[type = 'protein']",css:{shape:"ellipse"}},{selector:"node[type = 'proteinfamily']",css:{shape:"rectangle"}},{selector:"node[type = 'stimulus']",css:{shape:"diamond"}},{selector:"node[type = 'smallmolecule']",css:{color:"rgb(255,127,0)"}},{selector:"node[type = 'complex']",css:{color:"rgb(0,153,204)"}},{selector:"node[type = 'proteinfamily']",css:{color:"rgb(51,153,0)"}},{selector:"node[type = 'stimulus']",css:{color:"rgb(255,255,51)"}},{selector:"node[type = 'phenotype']",css:{"border-width":2}},{selector:"node[type = 'smallmolecule']",css:{"border-width":0}},{selector:"node[type = 'complex']",css:{"border-width":4}},{selector:"node[type = 'stimulus']",css:{"border-width":0}},{selector:"node[type = 'smallmolecule']",css:{"background-opacity":1}},{selector:"node[type = 'stimulus']",css:{"background-opacity":1}},{selector:"node[type = 'complex']",css:{"background-opacity":0}},{selector:"edge",css:{"target-arrow-shape":"none","line-color":"rgb(255,255,255)","font-family":"SansSerif","font-weight":"normal","source-arrow-shape":"none","font-size":10,width:1.5,"source-arrow-color":"rgb(255,255,255)","line-style":"solid",opacity:.2,color:"rgb(0,0,0)","target-arrow-color":"rgb(255,255,255)",content:"","text-opacity":1}},{selector:"edge[shared_interaction = 'down-regulates quantity']",css:{"line-color":"rgb(255,153,0)","target-arrow-color":"rgb(255,153,0)","source-arrow-color":"rgb(255,153,0)"}},{selector:"edge[shared_interaction = 'up-regulates quantity']",css:{"line-color":"rgb(255,255,255)","target-arrow-color":"rgb(255,255,255)","source-arrow-color":"rgb(255,255,255)"}},{selector:"edge[shared_interaction = 'down-regulates activity']",css:{"line-color":"rgb(255,153,0)","target-arrow-color":"rgb(255,153,0)","source-arrow-color":"rgb(255,153,0)"}},{selector:"edge[shared_interaction = 'down-regulates quantity by destabilization']",css:{"line-color":"rgb(255,153,0)","target-arrow-color":"rgb(255,153,0)","source-arrow-color":"rgb(255,153,0)"}},{selector:"edge[shared_interaction = 'up-regulates activity']",css:{"line-color":"rgb(255,255,255)","target-arrow-color":"rgb(255,255,255)","source-arrow-color":"rgb(255,255,255)"}},{selector:"edge[shared_interaction = 'up-regulates']",css:{"line-color":"rgb(255,255,255)","target-arrow-color":"rgb(255,255,255)","source-arrow-color":"rgb(255,255,255)"}},{selector:"edge[shared_interaction = 'down-regulates']",css:{"line-color":"rgb(255,153,0)","target-arrow-color":"rgb(255,153,0)","source-arrow-color":"rgb(255,153,0)"}},{selector:"edge[shared_interaction = 'up-regulates quantity by expression']",css:{"line-color":"rgb(255,255,255)","target-arrow-color":"rgb(255,255,255)","source-arrow-color":"rgb(255,255,255)"}},{selector:"edge[DIRECT = 'YES']",css:{"target-arrow-shape":"triangle"}},{selector:"edge[MECHANISM = 'small molecule catalysis']",css:{"line-style":"dashed"}},{selector:"edge:selected",css:{"line-color":"rgb(255,0,0)"}}]}]},255:function(e,t,n){e.exports=n(437)},265:function(e,t,n){},266:function(e,t,n){},267:function(e,t,n){},349:function(e,t,n){},361:function(e,t,n){},363:function(e,t,n){},366:function(e,t,n){},416:function(e,t,n){},419:function(e,t,n){},437:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"SET_QUERY",function(){return nn}),n.d(a,"CLEAR_QUERY",function(){return an}),n.d(a,"SEARCH_STARTED",function(){return rn}),n.d(a,"SEARCH_SUCCEEDED",function(){return on}),n.d(a,"SEARCH_FAILED",function(){return cn}),n.d(a,"FETCH_RESULT_STARTED",function(){return sn}),n.d(a,"FETCH_RESULT_SUCCEEDED",function(){return ln}),n.d(a,"FETCH_RESULT_FAILED",function(){return un}),n.d(a,"CLEAR_ALL",function(){return dn}),n.d(a,"SET_SELECTED_GENES",function(){return mn}),n.d(a,"setQuery",function(){return pn}),n.d(a,"clearQuery",function(){return gn}),n.d(a,"searchStarted",function(){return hn}),n.d(a,"searchSucceeded",function(){return fn}),n.d(a,"searchFailed",function(){return bn}),n.d(a,"fetchResultStarted",function(){return En}),n.d(a,"fetchResultSucceeded",function(){return yn}),n.d(a,"fetchResultFailed",function(){return vn}),n.d(a,"clearAll",function(){return wn}),n.d(a,"setSelectedGenes",function(){return On});var r={};n.r(r),n.d(r,"SET_SETTINGS_OPEN",function(){return jn}),n.d(r,"setSettingsOpen",function(){return Sn}),n.d(r,"SET_CYTOSCAPE_STATUS",function(){return Cn}),n.d(r,"setCytoscapeStatus",function(){return kn});var o={};n.r(o),n.d(o,"NETWORK_FETCH_STARTED",function(){return Nn}),n.d(o,"NETWORK_FETCH_SUCCEEDED",function(){return xn}),n.d(o,"NETWORK_FETCH_FAILED",function(){return Tn}),n.d(o,"SET_NETWORK_SIZE",function(){return Fn}),n.d(o,"SELECT_NODE",function(){return _n}),n.d(o,"SELECT_EDGE",function(){return Ln}),n.d(o,"DESELECT_ALL",function(){return An}),n.d(o,"networkFetchStarted",function(){return In}),n.d(o,"networkFetchSucceeded",function(){return Dn}),n.d(o,"networkFetchFailed",function(){return Rn}),n.d(o,"setNetworkSize",function(){return Un}),n.d(o,"selectNode",function(){return Gn}),n.d(o,"selectEdge",function(){return qn}),n.d(o,"deselectAll",function(){return Bn});var c={};n.r(c),n.d(c,"FIND_SOURCE_STARTED",function(){return Hn}),n.d(c,"FIND_SOURCE_SUCCEEDED",function(){return Pn}),n.d(c,"FIND_SOURCE_FAILED",function(){return Mn}),n.d(c,"findSourceStarted",function(){return zn}),n.d(c,"findSourceSucceeded",function(){return Wn}),n.d(c,"findSourceFailed",function(){return Kn});var s=n(0),l=n.n(s),i=n(24),u=n(75),d=(n(261),n(28)),m=n(442),p=n(444),g=n(440),h=n(200),f=n(177),b=(n(265),n(266),n(14)),E=n(37),y=n.n(E),v=(n(267),n(47)),w=n.n(v),O=n(12),j=n(115),S=n.n(j),C=Object(O.withStyles)(function(e){return Object(b.a)({},e,{button:{padding:"0.3em"}})})(function(e){var t=e.classes;return l.a.createElement("div",{className:"buttons"},l.a.createElement(w.a,{title:"Restart Search",placement:"bottom"},l.a.createElement(y.a,{className:t.button,variant:"contained",size:"small",color:"secondary",onClick:function(t){e.searchActions.clearAll(),e.history.push("/")},fullWidth:!0},l.a.createElement(S.a,null))))}),k=n(9),N=n(70),x=n(71),T=n(76),F=n(72),_=n(77),L=n(38),A=n.n(L),I=n(34),D=n.n(I),R=n(31),U=n.n(R),G=n(63),q=n.n(G),B=n(42),H=n.n(B),P=n(18),M=n.n(P),z=n(33),W=n.n(z),K=n(181),Q=n.n(K),Y=n(25),X=n.n(Y),$=n(178),J=n.n($),V=n(142),Z=n.n(V),ee=n(179),te=n.n(ee),ne=n(180),ae=n.n(ne),re=(n(349),n(43)),oe=n.n(re),ce=n(64),se=n.n(ce),le=n(104),ie=n.n(le),ue=150,de="https://www.genecards.org/cgi-bin/carddisp.pl?gene=",me=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(T.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={},n.handleClick=function(e){console.log("OPEN = = = ",e);var t="pw_"+e,a=n.state[t];void 0===a||null==a?n.setState(function(e){return Object(k.a)({},t,!0)}):n.setState(function(e){return Object(k.a)({},t,!a)})},n.getListItem=function(e,t){var a=e.summary;return a.length>ue&&(a=a.substring(0,ue-1)+"..."),l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,{alignItems:"flex-start",key:e._id,button:!0,onClick:function(t){return n.handleClick(e._id)}},l.a.createElement(q.a,null,l.a.createElement(H.a,{className:t.matched},"G")),l.a.createElement(U.a,{primary:e.symbol,secondary:l.a.createElement(l.a.Fragment,null,l.a.createElement(M.a,{component:"span",className:t.inline,color:"textPrimary"},e.name),l.a.createElement(M.a,{variant:"caption"},a))}),l.a.createElement(se.a,{className:t.linkIcon},l.a.createElement(X.a,{"aria-label":"Link to GeneCards",href:de+e.symbol,target:"_blank"},l.a.createElement(w.a,{title:"Open in GeneCards",placement:"bottom"},l.a.createElement(J.a,null)))),n.state["pw_"+e._id]?l.a.createElement(te.a,null):l.a.createElement(ae.a,null)),n.getListChildren(e,t))},n.getListChildren=function(e,t){var a=e.pathway,r=Object.keys(a);return console.log("PW===",a),l.a.createElement(ie.a,{in:n.state[pe(e._id)],timeout:"auto",unmountOnExit:!0},l.a.createElement(A.a,{component:"div",disablePadding:!0},r.map(function(e){var n=a[e];return Array.isArray(n)?l.a.createElement(l.a.Fragment,null,n.map(function(n){return l.a.createElement(D.a,{button:!0,className:t.nested},l.a.createElement(oe.a,null,l.a.createElement(Z.a,null)),l.a.createElement(U.a,{inset:!0,primary:e+": "+n.id,secondary:l.a.createElement(l.a.Fragment,null,l.a.createElement(M.a,{component:"span",className:t.inline,color:"textPrimary"},n.name))}))})):l.a.createElement(D.a,{button:!0,className:t.nested},l.a.createElement(oe.a,null,l.a.createElement(Z.a,null)),l.a.createElement(U.a,{inset:!0,primary:n.name}))})))},n.getNotFound=function(e,t){return l.a.createElement("div",null,l.a.createElement(W.a,{variant:"middle"}),l.a.createElement(M.a,{className:t.title,variant:"body1"},"Unmatched: "+e.length),l.a.createElement(A.a,null,e.map(function(e){return n.getUnmatchedListItem(e,t)})))},n.getUnmatchedListItem=function(e){return l.a.createElement(D.a,{alignItems:"flex-start",key:e},l.a.createElement(oe.a,null,l.a.createElement(Q.a,null)),l.a.createElement(U.a,{inset:!0,primary:e}))},n}return Object(_.a)(t,e),Object(x.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;console.log("STTTTT,",this.state);var t=this.props.classes,n=this.props.search.results;if(!n)return l.a.createElement("div",{className:"gene-list-wrapper"});var a=n.genes,r=n.notFound;if(!a)return l.a.createElement("div",{className:"gene-list-wrapper"});var o=[],c=!0,s=!1,i=void 0;try{for(var u,d=a.values()[Symbol.iterator]();!(c=(u=d.next()).done);c=!0){var m=u.value;o.push(m)}}catch(p){s=!0,i=p}finally{try{c||null==d.return||d.return()}finally{if(s)throw i}}return l.a.createElement("div",{className:"gene-list-wrapper"},l.a.createElement(M.a,{variant:"h6"},"Search Result"),l.a.createElement(M.a,{variant:"body1"},"Matched Genes: "+o.length),l.a.createElement("div",{className:"gene-list"},l.a.createElement(A.a,null,o.map(function(n){return e.getListItem(n,t)}))),0!==r.length?this.getNotFound(r,t):null)}}]),t}(l.a.Component),pe=function(e){return"pw_"+e},ge=(Object(O.withStyles)(function(e){return{inline:{display:"inline"},title:{marginLeft:"0.5em",marginTop:"0.3em"},description:{marginLeft:"1em",marginTop:"0.3em"},matched:{backgroundColor:"teal"},unmatched:{backgroundColor:"red"},linkIcon:{paddingLeft:"1em"},nested:{paddingLeft:4*e.spacing.unit}}})(me),n(361),n(105)),he=n.n(ge),fe=function(e){return l.a.createElement("div",{className:"loading-container"},l.a.createElement(M.a,{className:"loading-title",variant:"h5",color:"primary"},e.title),l.a.createElement(M.a,{className:"loading-message",variant:"subtitle1",color:"default"},e.message),l.a.createElement(he.a,{size:100}))},be=(n(363),n(90)),Ee=n.n(be),ye=function(e,t){t.searchActions.setSelectedGenes([e])},ve=function(e,t,n,a){return t?l.a.createElement(Ee.a,{className:n.chip,avatar:l.a.createElement(H.a,null,"G"),label:e.symbol,onClick:function(){return ye(e.symbol,a)},variant:"outlined",color:"primary",key:e.symbol}):l.a.createElement(Ee.a,{avatar:l.a.createElement(H.a,null,"G"),label:"INVALID: "+e,onClick:ye,key:e})},we=Object(O.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center"},chip:{margin:e.spacing.unit}}})(function(e){var t=e.classes,n=e.search.results;if(!n)return l.a.createElement("div",{className:"gene-list-wrapper"});var a=n.genes;n.notFound;if(!a)return l.a.createElement("div",{className:"gene-list-wrapper"});var r=[],o=!0,c=!1,s=void 0;try{for(var i,u=a.values()[Symbol.iterator]();!(o=(i=u.next()).done);o=!0){var d=i.value;r.push(d)}}catch(m){c=!0,s=m}finally{try{o||null==u.return||u.return()}finally{if(c)throw s}}return l.a.createElement("div",{className:"gene-list-wrapper",onClick:function(e){return function(e){console.log("Clear selection",e.target.value)}(e)}},r.map(function(n){return ve(n,!0,t,e)}))}),Oe=function(e){return l.a.createElement("div",{className:"input-container"},l.a.createElement("div",{className:"input-wrapper"},l.a.createElement(C,e),l.a.createElement(we,e)))},je=n(52),Se=n(51),Ce=n(107),ke=n.n(Ce),Ne=n(108),xe=n.n(Ne),Te=n(44),Fe=n(50),_e=n.n(Fe),Le=(n(366),function(e){return l.a.createElement("div",{className:"results-container"},l.a.createElement("div",{className:"message"},l.a.createElement("img",{alt:"Home logo",src:_e.a,className:"home-logo"}),l.a.createElement(Te.a,{variant:"h2"},"Cytoscape Cloud \u03b1"),l.a.createElement(Te.a,{variant:"subtitle1"},"Enter / drag & drop a gene list to the text area")))}),Ae=(n(56),n(119)),Ie=n(48),De=n.n(Ie),Re=n(32),Ue=n(73),Ge=n.n(Ue),qe=Object(O.withStyles)(function(e){return{buttonIcon:{height:"2.5em",paddingLeft:"0.5em"}}})(function(e){var t=e.classes,n=e.uiState;return l.a.createElement(y.a,{variant:"contained",color:"default",disabled:!n.isCytoscapeRunning},"Open in",l.a.createElement("img",{alt:"Cytoscape logo",src:_e.a,className:t.buttonIcon}))}),Be=Object(O.withStyles)(function(e){return{toolbar:{background:"#EFEFEF"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(k.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(k.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Re.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Re.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(k.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}}),buttonIcon:{height:"2.5em",paddingLeft:"0.5em"}}})(function(e){var t=e.classes,n=Object(je.a)(e,["classes"]);return l.a.createElement(De.a,{className:t.toolbar},l.a.createElement(X.a,{className:t.menuButton,color:"primary","aria-label":"Open drawer"},l.a.createElement(Ge.a,null)),l.a.createElement(M.a,{className:t.title,variant:"subtitle1",color:"inherit",noWrap:!0},e.network.networkName),l.a.createElement("div",{className:t.grow}),l.a.createElement(qe,n))}),He=n(182),Pe=n.n(He),Me=(n(167),function(e){return l.a.createElement("div",{className:"warning-container"},l.a.createElement("div",{className:"warning-message-box"},l.a.createElement(Te.a,{variant:"h6"},"Network is too big for interactive view"),l.a.createElement(Te.a,{variant:"subtitle1"})))}),ze=null,We={width:"100%",height:"100%",background:"#222233"},Ke={name:"preset",padding:6},Qe={name:"concentric",padding:6},Ye={name:"cose",padding:6,nodeRepulsion:function(e){return 1008e4},nodeOverlap:4e5,idealEdgeLength:function(e){return 10}},Xe=function(e){if(Object(s.useEffect)(function(){if(void 0!==ze&&null!==ze)return console.log("This should run only once:  CyViewer Mounted:",ze),ze.on("tap",function(t){try{t.target===ze&&(e.networkActions.deselectAll(),console.log("UNSELECT"))}catch(n){console.warn(n)}}),ze.on("tap","node",function(){try{var t=this.data();e.networkActions.selectNode(t)}catch(n){console.warn(n)}}),ze.on("tap","edge",function(){try{var t=this.data();e.networkActions.selectEdge(t)}catch(n){console.warn(n)}}),function(){console.log("unmount")}},[]),e.network.nodeCount+e.network.edgeCount>5e3)return l.a.createElement(Me,null);var t=e.network.network;e.search.selectedGenes;if(null===t||void 0===t)return null;var n=t.isLayout,a=Ke;return n?t.elements.length>1e3&&(a=Qe):a=Ye,l.a.createElement(Pe.a,{elements:t.elements,layout:a,style:We,stylesheet:t.style,cy:function(e){return ze=e}})},$e=function(e){return l.a.createElement("div",{className:"network-view"},l.a.createElement(Be,e),e.network.isFetching?l.a.createElement(fe,{title:"Loading Network..."}):l.a.createElement(Xe,e))},Je=function(e){var t=e.network;if(null===t)return l.a.createElement("div",null);var n=t.selectedNode;return null===n||void 0===n?l.a.createElement("div",null):l.a.createElement("div",null,l.a.createElement(Te.a,{variant:"h6"},n.name))},Ve=function(e){return l.a.createElement(Ae.a,{sizes:[70,30],direction:"vertical",gutterSize:6},l.a.createElement($e,e),l.a.createElement(Je,Object.assign({className:"property-view"},e)))},Ze=n(183),et=n.n(Ze),tt=n(89),nt=n.n(tt),at=n(39),rt=n.n(at),ot=n(106),ct=n.n(ot),st=[{value:"name",label:"Name"},{value:"numNodes",label:"Number of Nodes"},{value:"overlap",label:"% Overlap"}],lt=Object(O.withStyles)(function(e){return{toolbar:{background:"#FFFFFF"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(k.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),sortBy:{width:"15em"},search:Object(k.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Re.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Re.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(k.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}})(function(e){var t,n=e.classes,a=l.a.useState({sortBy:"name"}),r=Object(Se.a)(a,2),o=r[0],c=r[1];return l.a.createElement(De.a,{className:n.toolbar},l.a.createElement("div",{className:n.grow}),l.a.createElement(ct.a,{select:!0,label:"Sort by:",value:o.sortBy,onChange:(t="sortBy",function(e){c(Object(b.a)({},o,Object(k.a)({},t,e.target.value)))}),className:n.sortBy},st.map(function(e){return l.a.createElement(rt.a,{key:e.value,value:e.value},e.label)})))}),it=function(e){return console.log("Calling!!",e),void 0!==e},ut=Object(O.withStyles)(function(e){return{inline:{display:"inline"},subtitle:{marginLeft:"1em",marginTop:"0.5em"},networkAvatar:{margin:10,color:"#fff",backgroundColor:et.a[500]},menuItem:{height:"4em","&:focus":{backgroundColor:"rgba(200,205,200,0.5)","& $primary, & $icon":{color:e.palette.common.white}}},menuText:{"&:focus":{"& $primary, & $icon":{color:e.palette.common.white}}},secondary:{width:"15em",display:"flex",alignItems:"center",padding:"0.2em"},plot:{width:"80%",background:"teal"}}})(function(e){var t=e.classes,n=e.hits,a=e.sourceUUID,r=e.search.queryList,o=e.search.results.jobId,c=function(t,n,c,s){e.networkActions.setNetworkSize({nodeCount:c,edgeCount:s}),c+s>5e3||(function(e){fetch("http://localhost:2607/status/",{mode:"no-cors"}).catch(function(e){throw Error(e)}).then(function(e){return it(e)}).then(function(t){e.uiStateActions.setCytoscapeStatus(!0)}).catch(function(t){e.uiStateActions.setCytoscapeStatus(!1)})}(e),e.networkActions.networkFetchStarted({id:o,sourceUUID:a,networkUUID:t,networkName:n,geneList:r}))};return n?l.a.createElement("div",{className:"network-list-wrapper"},l.a.createElement(lt,null),l.a.createElement("div",{className:"network-list"},l.a.createElement(nt.a,null,n.map(function(e){return function(e,t){var n=e.description,a=e.networkUUID,r=e.percentOverlap,o=e.nodes,s=e.edges;return l.a.createElement(rt.a,{className:t.menuItem,alignItems:"flex-start",key:a,onClick:function(e){return c(a,n,o,s)}},l.a.createElement(q.a,null,l.a.createElement(H.a,{className:t.networkAvatar},"N")),l.a.createElement(U.a,{className:t.menuText,primary:n,secondary:l.a.createElement(l.a.Fragment,null,l.a.createElement(M.a,{component:"span",className:t.inline,color:"textPrimary"},"Nodes: "+o+", Edges: "+s),l.a.createElement(M.a,{variant:"caption"},"UUID: "+a))}),l.a.createElement(se.a,{className:t.secondary},l.a.createElement("div",{style:{background:"lightGreen",color:"white",height:"2em",width:r+"%"}},l.a.createElement(M.a,{variant:"h6"},r+"%"))))}(e,t)})))):l.a.createElement("div",{className:"network-list-wrapper"})}),dt=function(e){return l.a.createElement(Ae.a,{sizes:[50,50],gutterSize:7,className:"ndex-base"},l.a.createElement(ut,e),l.a.createElement(Ve,e))},mt=function(e){if(null===e||void 0===e)return null;var t=e.map(function(e){return l.a.createElement(xe.a,{key:e.sourceUUID,label:e.sourceName})});return console.log("TABBS = ",t),t},pt=function(e,t,n){if(null===t||void 0===t)return null;var a=t[e];if(!a)return null;var r=a.results,o=a.sourceUUID;return l.a.createElement(dt,Object.assign({hits:r,sourceUUID:o},n))},gt=Object(O.withStyles)(function(e){return{tabs:{width:"100%",backgroundColor:"#FFFFFF"}}})(function(e){var t=Object(s.useState)(0),n=Object(Se.a)(t,2),a=n[0],r=n[1],o=(e.classes,Object(je.a)(e,["classes"])),c=e.search.searchResults;return console.log("Current Result:",c),null===c?l.a.createElement(Le,null):l.a.createElement("div",{className:"results-container"},l.a.createElement("div",{className:"results-wrapper"},l.a.createElement(ke.a,{value:a,onChange:function(e,t){r(t)}},mt(c.sources)),pt(a,c.sources,o)))}),ht=(n(416),n(110)),ft=n.n(ht),bt=n(116),Et=n.n(bt),yt=n(6),vt=n.n(yt),wt=n(184),Ot=n.n(wt),jt=n(36),St=n.n(jt),Ct=n(41),kt=n.n(Ct),Nt=n(185),xt=n(109),Tt=n.n(xt),Ft=Object(O.withStyles)({root:{display:"flex",alignItems:"center",justifyContent:"center",width:"30vmin",padding:"0.3em",background:"#f1f1f1",marginLeft:"1em"},input:{marginLeft:8,flex:1},iconButton:{padding:10},divider:{width:1,height:28,margin:4}})(function(e){var t=e.classes,n=Object(s.useRef)(null);Object(s.useEffect)(function(){return Object(Nt.loadCSS)("https://use.fontawesome.com/releases/v5.1.0/css/all.css",document.querySelector("#insertion-point-jss")),function(){}},[]);return l.a.createElement(St.a,{className:t.root,elevation:0},l.a.createElement(kt.a,{id:"original-gene-text",className:t.input,placeholder:"Genes entered",value:e.search.queryGenes,readOnly:!0,ref:n}),l.a.createElement(W.a,{className:t.divider}),l.a.createElement(w.a,{title:"Copy",placement:"bottom"},l.a.createElement(X.a,{color:"default",className:t.iconButton,"aria-label":"Directions",onClick:function(){document.getElementById("original-gene-text").select(),document.execCommand("copy")}},l.a.createElement(Tt.a,{className:vt()(t.icon,"far fa-clipboard")}))))}),_t=function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(T.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).handleMenu=function(){n.props.uiStateActions.setSettingsOpen(!n.props.uiState.isSettingsOpen)},n}return Object(_.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=Object(je.a)(e,["classes"]),a=this.props.uiState.isSettingsOpen;return l.a.createElement(ft.a,{position:"fixed",color:"inherit",className:vt()(t.appBar,Object(k.a)({},t.appBarShift,a))},l.a.createElement(De.a,{disableGutters:!a},l.a.createElement(X.a,{className:vt()(t.menuButton,a&&t.hide),color:"inherit","aria-label":"Menu",onClick:this.handleMenu},l.a.createElement(Ge.a,null)),l.a.createElement("div",null,l.a.createElement(M.a,{variant:"h6",color:"inherit"},"NDEx Network Search:"),l.a.createElement(M.a,{variant:"body1"},"Pathway Enrichment / Gene Neighborhoods / Keywords")),null===this.props.search.results?l.a.createElement("div",null):l.a.createElement(Ft,n),l.a.createElement("div",{className:t.grow}),l.a.createElement("div",null,l.a.createElement(X.a,{"aria-haspopup":"true",color:"inherit",onClick:function(){return It(Lt)}},l.a.createElement(Et.a,{fontSize:"large"})),l.a.createElement(X.a,{"aria-haspopup":"true",color:"inherit",onClick:function(){return It(At)}},l.a.createElement("img",{alt:"GitHub logo",src:Ot.a,className:t.headerLogo})))))}}]),t}(l.a.Component),Lt="https://www.cytoscape.org/",At="https://github.com/idekerlab/cytoscape-cloud-portal",It=function(e){window.open(e,"_blank")},Dt=Object(O.withStyles)(function(e){return{root:{flexGrow:1},grow:{flexGrow:1},hide:{display:"none"},menuButton:{marginLeft:12,marginRight:10},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},logo:{height:"2.5em",marginRight:"0.7em"},headerLogo:{height:"1.4em"}}},{withTheme:!0})(_t),Rt=n(111),Ut=n.n(Rt),Gt=n(186),qt=n.n(Gt),Bt=n(187),Ht=n.n(Bt),Pt=n(188),Mt=n.n(Pt),zt=n(189),Wt=n.n(zt),Kt=n(190),Qt=n.n(Kt),Yt=(n(419),function(e){function t(){var e,n;Object(N.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(T.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).handleDrawerClose=function(){var e=n.props.uiState.isSettingsOpen;n.props.uiStateActions.setSettingsOpen(!e)},n}return Object(_.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.theme,a=this.props.uiState.isSettingsOpen;return l.a.createElement(Ut.a,{className:t.drawer,variant:"persistent",anchor:"left",open:a,classes:{paper:t.drawerPaper}},l.a.createElement("div",{className:"drawerHeader"},l.a.createElement(X.a,{onClick:this.handleDrawerClose},"ltr"===n.direction?l.a.createElement(qt.a,null):l.a.createElement(Ht.a,null))),l.a.createElement(W.a,null),l.a.createElement(A.a,null,["This","panel is","for advanced","options"].map(function(e,t){return l.a.createElement(D.a,{button:!0,key:e},l.a.createElement(oe.a,null,t%2===0?l.a.createElement(Mt.a,null):l.a.createElement(Wt.a,null)),l.a.createElement(U.a,{primary:e}))})),l.a.createElement(W.a,null),l.a.createElement(A.a,null,["More options","Help","??"].map(function(e,t){return l.a.createElement(D.a,{button:!0,key:e},l.a.createElement(oe.a,null,t%2===0?l.a.createElement(Qt.a,null):l.a.createElement(Et.a,null)),l.a.createElement(U.a,{primary:e}))})))}}]),t}(l.a.Component)),Xt=Object(O.withStyles)(function(e){return{drawer:{width:240,flexShrink:0},drawerPaper:{width:240}}},{withTheme:!0})(Yt),$t=n(112),Jt=n.n($t),Vt=Object(O.withStyles)(function(e){return{root:{display:"flex",height:"100vmin"},drawerHeader:Object(b.a)({display:"flex",padding:"0 8px",alignItems:"center"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}},{withTheme:!0})(function(e){var t=e.classes,n=Object(je.a)(e,["classes"]),a=e.uiState.isSettingsOpen;return l.a.createElement("div",{className:t.root},l.a.createElement(Jt.a,null),l.a.createElement(Dt,n),l.a.createElement(Xt,n),l.a.createElement("div",{className:vt()(t.content,Object(k.a)({},t.contentShift,a))}),e.children)}),Zt=function(e){Object(s.useEffect)(function(){if(null!==e.search.results){var n=e.search.results.jobId;console.log("Fetching res"),e.searchActions.fetchResultStarted({jobId:n})}return window.onpopstate=t,function(){console.log("Page unmounted")}},[]);var t=function(t){t.preventDefault(),console.log("* Handling back button press"),e.searchActions.clearAll(),e.history.push("/")};return console.log("----------------------- New Home Panel ------------------"),e.search.isFetching?l.a.createElement(fe,{title:"Loading Search Results"}):l.a.createElement(Vt,e,l.a.createElement("div",{className:"container"},l.a.createElement(Oe,Object.assign({className:"input"},e)),l.a.createElement(gt,Object.assign({className:"results"},e))))},en=n(443),tn=n(445),nn="SET_QUERY",an="CLEAR_QUERY",rn="SEARCH_STARTED",on="SEARCH_SUCCEEDED",cn="SEARCH_FAILED",sn="FETCH_RESULT_STARTED",ln="FETCH_RESULT_SUCCEEDED",un="FETCH_RESULT_FAILED",dn="CLEAR_ALL",mn="SET_SELECTED_GENES",pn=Object(tn.a)(nn),gn=Object(tn.a)(an),hn=Object(tn.a)(rn),fn=Object(tn.a)(on),bn=Object(tn.a)(cn),En=Object(tn.a)(sn),yn=Object(tn.a)(ln),vn=Object(tn.a)(un),wn=Object(tn.a)(dn),On=Object(tn.a)(mn),jn="SET_SETTINGS_OPEN",Sn=Object(tn.a)(jn),Cn="SET_CYTOSCAPE_STATUS",kn=Object(tn.a)(Cn),Nn="NETWORK_FETCH_STARTED",xn="NETWORK_FETCH_SUCCEEDED",Tn="NETWORK_FETCH_FAILED",Fn="SET_NETWORK_SIZE",_n="SELECT_NODE",Ln="SELECT_EDGE",An="DESELECT_ALL",In=Object(tn.a)(Nn),Dn=Object(tn.a)(xn),Rn=Object(tn.a)(Tn),Un=Object(tn.a)(Fn),Gn=Object(tn.a)(_n),qn=Object(tn.a)(Ln),Bn=Object(tn.a)(An),Hn="FIND_SOURCE_STARTED",Pn="FIND_SOURCE_SUCCEEDED",Mn="FIND_SOURCE_FAILED",zn=Object(tn.a)(Hn),Wn=Object(tn.a)(Pn),Kn=Object(tn.a)(Mn);var Qn=Object(en.a)(Object(u.b)(function(e){return{search:e.search,uiState:e.uiState,network:e.network,source:e.source}},function(e){return{searchActions:Object(i.bindActionCreators)(a,e),uiStateActions:Object(i.bindActionCreators)(r,e),networkActions:Object(i.bindActionCreators)(o,e),sourceActions:Object(i.bindActionCreators)(c,e)}})(function(e){return l.a.createElement(Zt,e)})),Yn=(n(140),n(193)),Xn=n.n(Yn),$n=n(113),Jn=n.n($n),Vn=["kras egfr cdk4 tp53","per1 per2 clock","mtor wnt1 igf1"],Zn=Object(O.withStyles)({root:{padding:"2px 4px",display:"flex",alignItems:"center"},input:{marginLeft:8,flex:1},iconButton:{padding:10},divider:{width:1,height:28,margin:4}})(function(e){var t=e.classes,n=Object(s.useState)({anchorEl:null,query:""}),a=Object(Se.a)(n,2),r=a[0],o=a[1];Object(s.useEffect)(function(){if(void 0!==e.search&&null!==e.search.results){var t=e.search.results.jobId,n=e;console.log("** Search route:",t,n),e.history.push("/".concat(t))}return function(){console.log("Page unmounted")}},[]);var c,i=Boolean(r.anchorEl),u=function(t){o(Object(b.a)({},e,{query:Vn[t],anchorEl:null}))},d=function(e){return e.replace(","," ")};return l.a.createElement(St.a,{className:"search-text-box",elevation:1},l.a.createElement("div",null,l.a.createElement(X.a,{className:t.iconButton,"aria-label":"Menu",onClick:function(e){o(Object(b.a)({},r,{anchorEl:e.currentTarget}))}},l.a.createElement(Ge.a,null)),l.a.createElement(Jn.a,{anchorEl:r.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:function(){o(Object(b.a)({},r,{anchorEl:null}))}},l.a.createElement(rt.a,{onClick:function(){return u(0)}},"Gene List 1"),l.a.createElement(rt.a,{onClick:function(){return u(1)}},"Gene List 2"),l.a.createElement(rt.a,{onClick:function(){return u(2)}},"Gene List 3"))),l.a.createElement(kt.a,{className:t.input,placeholder:"Enter gene list (...or click menu for examples)",onChange:(c="query",function(t){o(Object(b.a)({},e,Object(k.a)({},c,t.target.value)))}),value:r.query}),l.a.createElement(X.a,{className:t.iconButton,"aria-label":"Search",onClick:function(t){var n=r.query,a=e.source.sources;if(0!==n.length&&null!==a&&0!==a.length){var o=a.map(function(e){return e.name}),c=d(n),s=c.split(/ /);e.searchActions.setQuery(c),e.searchActions.searchStarted({geneList:s,sourceNames:o})}}},l.a.createElement(Xn.a,null)),l.a.createElement(W.a,{className:t.divider}),l.a.createElement(X.a,{color:"primary",className:t.iconButton,"aria-label":"Directions",onClick:function(){o(Object(b.a)({},r,{query:""}))}},l.a.createElement(S.a,null)))}),ea=n(74),ta=n.n(ea),na=n(194),aa=n.n(na),ra="https://cytoscape.org/",oa="https://www.ndexbio.org/",ca="https://medschool.ucsd.edu/som/medicine/research/labs/ideker/Pages/default.aspx",sa=function(e){window.open(e,"_blank")},la=function(e){return l.a.createElement("footer",{className:"footer-container"},l.a.createElement(M.a,{variant:"subtitle1"},"\xa9 2019 UC, San Diego Ideker Lab"),l.a.createElement("img",{alt:"NDEx logo",src:ta.a,className:"footer-logo",onClick:function(){return sa(oa)}}),l.a.createElement("img",{alt:"Cytoscape logo",src:_e.a,className:"footer-logo",onClick:function(){return sa(ra)}}),l.a.createElement("img",{alt:"UCSD logo",src:aa.a,className:"footer-logo",onClick:function(){return sa(ca)}}))},ia=n(65),ua=n.n(ia),da=n(66),ma=n.n(da),pa=n(69),ga=n.n(pa),ha=n(68),fa=n.n(ha),ba=n(67),Ea=n.n(ba),ya=n(195),va=n.n(ya),wa=n(196),Oa=n.n(wa),ja=[ta.a,_e.a,va.a,Oa.a],Sa=function(){var e=Math.floor(4*Math.random());return ja[e]},Ca=Object(O.withStyles)({card:{minWidth:345,maxWidth:345,minHeight:380,marginLeft:"1em"},media:{objectFit:"cover"}})(function(e){var t=e.classes,n=e.source;return l.a.createElement(ua.a,{className:t.card},l.a.createElement(ma.a,null,l.a.createElement(Ea.a,{component:"img",alt:"Contemplative Reptile",className:t.media,height:"140",src:Sa()}),l.a.createElement(fa.a,null,l.a.createElement(M.a,{gutterBottom:!0,variant:"h5",component:"h2"},n.name),l.a.createElement(M.a,{gutterBottom:!0,variant:"subheading"},"(v"+n.version+")"),l.a.createElement(M.a,{component:"p"},n.description),l.a.createElement(M.a,{variant:"h6"},"Status: "+n.status))),l.a.createElement(ga.a,null))}),ka=n(197),Na=n.n(ka),xa=function(){window.location.reload(!0)},Ta=Object(O.withStyles)({card:{minWidth:345,maxWidth:345,padding:"1em"},media:{objectFit:"fit"}})(function(e){var t=e.classes;return l.a.createElement(ua.a,{className:t.card},l.a.createElement(ma.a,null,l.a.createElement(Ea.a,{component:"img",alt:"Error loading source",className:t.media,height:"300",src:Na.a,title:"Error loading source"}),l.a.createElement(fa.a,null,l.a.createElement(M.a,{gutterBottom:!0,variant:"h6",component:"h2",color:"error"},"Failed to access services"),l.a.createElement(M.a,{component:"p",color:"error"},"Something is wrong with tne search service. After a few moments, please reload the page and try again."))),l.a.createElement(ga.a,null,l.a.createElement(y.a,{variant:"outlined",size:"small",color:"primary",onClick:xa},"Reload")))}),Fa=function(e){if(void 0===e.source||!e.source.sources)return null;var t=e.source.sources;return null!==e.source.error?l.a.createElement("div",{className:"source-container"},l.a.createElement(Ta,null)):l.a.createElement("div",{className:"source-container"},t.map(function(e){return l.a.createElement(Ca,{key:e.uuid,source:e})}))},_a=n(198),La=n.n(_a),Aa=function(e){return Object(s.useEffect)(function(){var t=La.a.parse(e.location.search);console.log("**MOUNTED: path params:",t);var n=t.genes;if(void 0!==n){var a=n.split(",");e.searchActions.setQuery(n),console.log("Got genes.  Start search now!",a),e.searchActions.searchStarted({geneList:a})}return e.sourceActions.findSourceStarted(),function(){console.log("Page unmounted")}},[]),e.search.isSearching?l.a.createElement(fe,{title:"Searching Remote Database",message:"Please wait..."}):l.a.createElement("div",{className:"start-container"},l.a.createElement("div",{className:"start-title"},l.a.createElement("img",{className:"start-logo-main",src:ta.a,alt:"logo"})),l.a.createElement(Zn,e),l.a.createElement(Fa,e),l.a.createElement(la,null))},Ia=function(e){return l.a.createElement(Vt,e,l.a.createElement(Aa,e))};var Da=Object(en.a)(Object(u.b)(function(e){return{search:e.search,uiState:e.uiState,network:e.network,source:e.source}},function(e){return{searchActions:Object(i.bindActionCreators)(a,e),uiStateActions:Object(i.bindActionCreators)(r,e),networkActions:Object(i.bindActionCreators)(o,e),sourceActions:Object(i.bindActionCreators)(c,e)}})(function(e){return l.a.createElement(Ia,e)})),Ra=function(e){return l.a.createElement(Da,e)},Ua=function(e){return l.a.createElement(Qn,e)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ga,qa,Ba,Ha=n(441),Pa={isSearching:!1,isFetching:!1,queryGenes:"",queryList:[],results:null,searchStatus:null,searchResults:null,selectedGenes:[]},Ma=Object(Ha.a)((Ga={},Object(k.a)(Ga,pn,function(e,t){return Object(b.a)({},e,{queryGenes:t.payload})}),Object(k.a)(Ga,gn,function(e,t){return Object(b.a)({},e,{queryGenes:"",queryList:[]})}),Object(k.a)(Ga,wn,function(e,t){return Pa}),Object(k.a)(Ga,hn,function(e,t){return Object(b.a)({},e,{isSearching:!0,queryList:e.queryGenes.split(" ")})}),Object(k.a)(Ga,fn,function(e,t){return Object(b.a)({},e,{results:t.payload,isSearching:!1})}),Object(k.a)(Ga,bn,function(e,t){return Object(b.a)({},e,{isSearching:!1})}),Object(k.a)(Ga,On,function(e,t){return console.log("Setting selected gene:",t),Object(b.a)({},e,{selectedGenes:t.payload})}),Object(k.a)(Ga,En,function(e,t){return Object(b.a)({},e,{isFetching:!0,searchStatus:null,searchResults:null})}),Object(k.a)(Ga,yn,function(e,t){return Object(b.a)({},e,{searchResults:t.payload.searchResults,isFetching:!1})}),Object(k.a)(Ga,vn,function(e,t){return Object(b.a)({},e,{isFetching:!1})}),Ga),Pa),za=Object(Ha.a)((qa={},Object(k.a)(qa,Sn,function(e,t){return console.log("OPEN = ",t.payload),Object(b.a)({},e,{isSettingsOpen:t.payload})}),Object(k.a)(qa,kn,function(e,t){return console.log("Cytoscape is running = ",t.payload),Object(b.a)({},e,{isCytoscapeRunning:t.payload})}),qa),{isSettingsOpen:!1,isCytoscapeRunning:!1}),Wa=n(144),Ka=n(143),Qa=n(199),Ya=new Ka.CyNetworkUtils,Xa=new Ka.CxToJs(Ya),$a=Qa[0].style;$a.push({selector:"node:selected",css:{"background-color":"red",color:"#FFFFFF","background-opacity":1,"border-width":0,width:100,height:100}});var Ja,Va=Object(Ha.a)((Ba={},Object(k.a)(Ba,In,function(e,t){return console.log("Query start: genes = ",t),Object(b.a)({},e,{isFetching:!0,nodeCount:0,edgeCount:0,jobId:t.payload.id,sourceId:t.payload.sourceUUID,uuid:t.payload.networkUUID,networkName:t.payload.networkName,queryGenes:t.payload.geneList,isLayoutComplete:!1})}),Object(k.a)(Ba,Dn,function(e,t){return Object(b.a)({},e,{network:Za(t.cx,e.queryGenes),isFetching:!1})}),Object(k.a)(Ba,Rn,function(e,t){return Object(b.a)({},e,{network:null,isFetching:!1,nodeCount:0,edgeCount:0})}),Object(k.a)(Ba,Un,function(e,t){return Object(b.a)({},e,{nodeCount:t.payload.nodeCount,edgeCount:t.payload.edgeCount})}),Object(k.a)(Ba,Gn,function(e,t){return Object(b.a)({},e,{selectedNode:t.payload})}),Object(k.a)(Ba,qn,function(e,t){return Object(b.a)({},e,{selectedEdge:t.payload})}),Object(k.a)(Ba,Bn,function(e,t){return Object(b.a)({},e,{selectedNode:null,selectedEdge:null})}),Ba),{isFetching:!1,uuid:"",jobId:"",sourceId:"",networkName:"",queryGenes:[],network:null,nodeCount:0,edgeCount:0,isLayoutComplete:!1,selectedNode:null,selectedEdge:null}),Za=function(e,t){var n=Ya.rawCXtoNiceCX(e);console.log("query & NICE \u3000===",t,n);var a={},r=Xa.cyElementsFromNiceCX(n,a),o=(Xa.cyStyleFromNiceCX(n,a),nr($a,t)),c=er(r.nodes,t);return{elements:[].concat(Object(Wa.a)(c),Object(Wa.a)(r.edges)),style:o,isLayout:tr(r.nodes)}},er=function(e,t){for(var n=e.length,a=new Set(t.map(function(e){return e.toUpperCase()}));n--;){var r=e[n],o=r.position,c=r.data.name.toUpperCase();a.has(c)&&(r.data.query="true"),void 0!==o&&(r.position={x:2*o.x,y:2*o.y})}return e},tr=function(e){return void 0!==e[0].position},nr=function(e){return $a.push({selector:"node[query = 'true']",css:{"background-color":"darkorange","background-opacity":1,"border-width":0,color:"#FFFFFF",width:80,height:80}}),$a.push({selector:"node:selected",css:{"background-color":"red",width:100,height:100}}),e},ar=Va,rr=Object(Ha.a)((Ja={},Object(k.a)(Ja,zn,function(e,t){return Object(b.a)({},e,{isFetchingSource:!0,error:null,sources:[]})}),Object(k.a)(Ja,Wn,function(e,t){return Object(b.a)({},e,{sources:t.sources,isFetchingSource:!1,error:null})}),Object(k.a)(Ja,Kn,function(e,t){return console.warn("Error:",t.error),Object(b.a)({},e,{isFetchingSource:!1,error:t.error,sources:[]})}),Ja),{isFetchingSource:!1,sources:[],error:null}),or=Object(i.combineReducers)({source:rr,search:Ma,uiState:za,network:ar}),cr=n(35),sr=n.n(cr),lr=n(22),ir="http://secret.ndexbio.org:9080/",ur=function(e,t,n){var a=ir+e+"/overlaynetwork?sourceUUID="+t+"&networkUUID="+n;return console.log("Calling CX API:",a),fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}})},dr=function(e){var t="http://mygene.info/v3/query?q="+e+"&scopes=symbol&fields=symbol,name,taxid,entrezgene,summary,genomic_pos,go,pathway";return console.log("Calling MyGene API:",t),fetch(t,{method:"POST"})},mr=function(){var e=ir+"source";return console.log("Calling sources:",e),fetch(e,{method:"GET",mode:"cors"}).then(function(e){if(!e.ok)throw Error("Failed to fetch source list:"+e.status);return e}).catch(function(e){return{error:e}})},pr=function(e){return fetch(ir+e+"/status",{method:"GET"}).then(function(e){if(!e.ok)throw Error("Failed to fetch source list:"+e.status);return e}).catch(function(e){return{error:e}})},gr=function(e){return fetch(ir+e,{method:"GET"}).then(function(e){if(!e.ok)throw Error("Failed to fetch search result:"+e.status);return e}).catch(function(e){return{error:e}})},hr=function(e,t){var n={geneList:e,sourceList:t};console.log("Sending query to search service:",n);var a=new Headers({"Content-Type":"application/json"});return fetch("http://secret.ndexbio.org:9080/",{method:"POST",headers:a,body:JSON.stringify(n)}).then(function(e){if(!e.ok)throw Error("Failed to send query:"+e.status);return e}).catch(function(e){return{error:e}})},fr=sr.a.mark(Or),br=sr.a.mark(jr),Er=sr.a.mark(kr),yr=sr.a.mark(Nr),vr=sr.a.mark(xr),wr=1e3;function Or(){return sr.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("rootSaga reporting for duty"),e.next=3,Object(lr.d)(rn,jr);case 3:return e.next=5,Object(lr.d)(sn,kr);case 5:return e.next=7,Object(lr.d)(Nn,Nr);case 7:return e.next=9,Object(lr.d)(Hn,xr);case 9:case"end":return e.stop()}},fr)}function jr(e){var t,n,a,r,o,c,s,l,i,u,d,m,p,g,h;return sr.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(console.log("## Search started.",e),t=e.payload.geneList,void 0!==(n=e.payload.sourceNames)){f.next=13;break}return f.next=6,Object(lr.b)(mr,null);case 6:return a=f.sent,f.next=9,Object(lr.b)([a,"json"]);case 9:r=f.sent,o=r.results,n=o.map(function(e){return e.name}),console.log("* Fetched sources:",n);case 13:return c=t.join(),console.log("## genes and sources:",t,n),f.prev=15,f.next=18,Object(lr.a)([Object(lr.b)(dr,c),Object(lr.b)(hr,t,n)]);case 18:return s=f.sent,l=Object(Se.a)(s,2),i=l[0],u=l[1],f.next=24,Object(lr.b)([i,"json"]);case 24:return d=f.sent,m=u.headers.get("Location"),p=m.split("/"),g=p[p.length-1],h=Tr(d),console.log("## Filtered genes:",h),f.next=32,Object(lr.c)({type:on,payload:{genes:h.uniqueGeneMap,notFound:h.notFound,resultLocation:m,jobId:g}});case 32:f.next=39;break;case 34:return f.prev=34,f.t0=f.catch(15),console.warn("NDEx search error:",f.t0),f.next=39,Object(lr.c)({type:cn,payload:{message:"NDEx network search error",query:c,error:f.t0.message}});case 39:case"end":return f.stop()}},br,null,[[15,34]])}var Sr=function(e){return console.log(e.progress,e.sources),100===e.progress},Cr=function(e){return new Promise(function(t){return setTimeout(t,e)})};function kr(e){var t,n,a,r,o,c;return sr.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t=e.payload.jobId,s.prev=1,n=!1,a=null;case 4:if(n){s.next=20;break}return s.next=7,Object(lr.b)(pr,t);case 7:return r=s.sent,s.next=10,Object(lr.b)([r,"json"]);case 10:if(a=s.sent,!(n=Sr(a))){s.next=16;break}return s.abrupt("break",20);case 16:return s.next=18,Object(lr.b)(Cr,wr);case 18:s.next=4;break;case 20:return s.next=22,Object(lr.b)(gr,t);case 22:return o=s.sent,s.next=25,Object(lr.b)([o,"json"]);case 25:return c=s.sent,console.log("## Result fetch:",a,c),s.next=29,Object(lr.c)({type:ln,payload:{searchResults:c}});case 29:s.next=36;break;case 31:return s.prev=31,s.t0=s.catch(1),console.warn("NDEx search error:",s.t0),s.next=36,Object(lr.c)({type:un,payload:{message:"Failed to fetch search result",jobId:t,error:s.t0.message}});case 36:case"end":return s.stop()}},Er,null,[[1,31]])}function Nr(e){var t,n,a,r,o,c;return sr.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,console.log("Action cont----------",e),t=e.payload,n=t.id,a=t.sourceUUID,r=t.networkUUID,s.next=8,Object(lr.b)(ur,n,a,r);case 8:return o=s.sent,s.next=11,Object(lr.b)([o,"json"]);case 11:return c=s.sent,s.next=14,Object(lr.c)({type:xn,cx:c});case 14:s.next=20;break;case 16:return s.prev=16,s.t0=s.catch(0),s.next=20,Object(lr.c)({type:Tn,error:s.t0});case 20:case"end":return s.stop()}},yr,null,[[0,16]])}function xr(e){var t,n;return sr.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(lr.b)(mr,null);case 3:return t=e.sent,e.next=6,Object(lr.b)([t,"json"]);case 6:return n=e.sent,e.next=9,Object(lr.c)({type:Pn,sources:n.results});case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(lr.c)({type:Mn,error:e.t0});case 15:case"end":return e.stop()}},vr,null,[[0,11]])}var Tr=function(e){for(var t=new Map,n=[],a=e.length;a--;){var r=e[a];r.notfound?n.push(r.query):t.set(r.query,r)}return{uniqueGeneMap:t,notFound:n}},Fr=Object(h.a)(),_r=Object(i.createStore)(or,Object(f.composeWithDevTools)(Object(i.applyMiddleware)(Fr)));Fr.run(Or);Object(d.render)(l.a.createElement(function(e){var t=e.store;return l.a.createElement(u.a,{store:t},l.a.createElement(m.a,{basename:""},l.a.createElement(p.a,null,l.a.createElement(g.a,{exact:!0,path:"/",component:Ra}),l.a.createElement(g.a,{path:"/:jobid/:sourceId/:networkId",component:Ua}),l.a.createElement(g.a,{path:"/:jobid/:sourceId",component:Ua}),l.a.createElement(g.a,{path:"/:jobid",component:Ua}))))},{store:_r}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},50:function(e,t,n){e.exports=n.p+"static/media/cytoscape-logo.4aa4c296.svg"},56:function(e,t,n){},74:function(e,t,n){e.exports=n.p+"static/media/ndex-logo.04d7bf44.svg"}},[[255,1,2]]]);
//# sourceMappingURL=main.9f6b693a.chunk.js.map