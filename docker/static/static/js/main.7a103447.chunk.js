(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{154:function(e,t,n){},181:function(e,t,n){},198:function(e,t,n){e.exports=n.p+"static/media/github.617870e4.svg"},208:function(e,t,n){e.exports=n.p+"static/media/ucsd-logo.5838f23e.svg"},209:function(e,t,n){e.exports=n.p+"static/media/dna.9c807c9d.svg"},210:function(e,t,n){e.exports=n.p+"static/media/idea.c30260f3.svg"},211:function(e,t,n){e.exports=n.p+"static/media/disconnected.243cf575.svg"},213:function(e){e.exports=[{format_version:"1.0",generated_by:"cytoscape-3.7.1",target_cytoscapejs_version:"~2.1",title:"dark4",style:[{selector:"node",css:{"background-opacity":1,shape:"ellipse",height:70,"text-opacity":1,"font-size":18,"border-opacity":1,color:"rgb(255,255,255)","border-width":0,"text-valign":"center","text-halign":"center","font-family":"SFProText-Medium","font-weight":"normal","background-color":"rgb(0,102,102)",width:110,"border-color":"rgb(255,102,102)",content:"data(name)"}},{selector:"node[type = 'phenotype']",css:{"background-opacity":.39215686274509803,shape:"roundrectangle","background-color":"rgb(255,255,255)",width:220}},{selector:"node[type = 'smallmolecule']",css:{width:20}},{selector:"node[type = 'complex']",css:{width:180}},{selector:"node[type = 'smallmolecule']",css:{shape:"octagon"}},{selector:"node[type = 'proteinfamily']",css:{shape:"rectangle"}},{selector:"node[type = 'smallmolecule']",css:{height:20}},{selector:"node[type = 'complex']",css:{height:180}},{selector:"node[type = 'proteinfamily']",css:{color:"rgb(153,153,153)"}},{selector:"node[type = 'smallmolecule']",css:{"background-color":"rgb(255,255,255)"}},{selector:"node[type = 'complex']",css:{"background-color":"rgb(0,153,204)"}},{selector:"node[type = 'proteinfamily']",css:{"background-color":"rgb(255,255,255)"}},{selector:"node[querynode]",css:{"border-width":20}},{selector:"node[type = 'smallmolecule']",css:{"text-valign":"bottom"}},{selector:"edge",css:{"curve-style":"bezier","line-style":"solid","target-arrow-color":"#FFFFFF","line-color":"#FFFFFF",width:2,opacity:.39215686274509803}},{selector:"edge[directed]",css:{"target-arrow-shape":"triangle"}},{selector:"node:selected",css:{"background-color":"rgb(255,102,102)"}},{selector:"edge:selected",css:{"target-arrow-shape":"triangle","line-color":"rgb(255,0,0)"}}]}]},275:function(e,t,n){e.exports=n(472)},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},368:function(e,t,n){},380:function(e,t,n){},382:function(e,t,n){},385:function(e,t,n){},394:function(e,t,n){},451:function(e,t,n){},454:function(e,t,n){},472:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"SET_QUERY",function(){return En}),n.d(a,"CLEAR_QUERY",function(){return bn}),n.d(a,"SEARCH_STARTED",function(){return yn}),n.d(a,"SEARCH_SUCCEEDED",function(){return vn}),n.d(a,"SEARCH_FAILED",function(){return On}),n.d(a,"FETCH_RESULT_STARTED",function(){return wn}),n.d(a,"FETCH_RESULT_SUCCEEDED",function(){return jn}),n.d(a,"FETCH_RESULT_FAILED",function(){return Sn}),n.d(a,"CLEAR_ALL",function(){return Cn}),n.d(a,"SET_SELECTED_GENES",function(){return kn}),n.d(a,"setQuery",function(){return Nn}),n.d(a,"clearQuery",function(){return xn}),n.d(a,"searchStarted",function(){return Tn}),n.d(a,"searchSucceeded",function(){return Fn}),n.d(a,"searchFailed",function(){return Ln}),n.d(a,"fetchResultStarted",function(){return An}),n.d(a,"fetchResultSucceeded",function(){return _n}),n.d(a,"fetchResultFailed",function(){return Rn}),n.d(a,"clearAll",function(){return In}),n.d(a,"setSelectedGenes",function(){return Dn});var r={};n.r(r),n.d(r,"SET_SETTINGS_OPEN",function(){return Un}),n.d(r,"setSettingsOpen",function(){return Gn}),n.d(r,"SET_CYTOSCAPE_STATUS",function(){return Pn}),n.d(r,"setCytoscapeStatus",function(){return Bn});var c={};n.r(c),n.d(c,"NETWORK_FETCH_STARTED",function(){return qn}),n.d(c,"NETWORK_FETCH_SUCCEEDED",function(){return Wn}),n.d(c,"NETWORK_FETCH_FAILED",function(){return Hn}),n.d(c,"SET_NETWORK_SIZE",function(){return Mn}),n.d(c,"SELECT_NODE",function(){return zn}),n.d(c,"SELECT_EDGE",function(){return Kn}),n.d(c,"DESELECT_ALL",function(){return Xn}),n.d(c,"networkFetchStarted",function(){return Qn}),n.d(c,"networkFetchSucceeded",function(){return Yn}),n.d(c,"networkFetchFailed",function(){return Jn}),n.d(c,"setNetworkSize",function(){return Vn}),n.d(c,"selectNode",function(){return Zn}),n.d(c,"selectEdge",function(){return $n}),n.d(c,"deselectAll",function(){return ea});var o={};n.r(o),n.d(o,"FIND_SOURCE_STARTED",function(){return ta}),n.d(o,"FIND_SOURCE_SUCCEEDED",function(){return na}),n.d(o,"FIND_SOURCE_FAILED",function(){return aa}),n.d(o,"findSourceStarted",function(){return ra}),n.d(o,"findSourceSucceeded",function(){return ca}),n.d(o,"findSourceFailed",function(){return oa});var i={};n.r(i),n.d(i,"IMPORT_NETWORK_STARTED",function(){return ia}),n.d(i,"IMPORT_NETWORK_SUCCEEDED",function(){return la}),n.d(i,"IMPORT_NETWORK_FAILED",function(){return sa}),n.d(i,"importNetworkStarted",function(){return ua}),n.d(i,"importNetworkSucceeded",function(){return ma}),n.d(i,"importNetworkFailed",function(){return da});var l=n(0),s=n.n(l),u=n(27),m=n(82),d=(n(281),n(33)),p=n(476),g=n(478),f=n(474),h=n(214),E=n(195),b=(n(285),n(286),n(13)),y=n(42),v=n.n(y),O=(n(287),n(43)),w=n.n(O),j=n(14),S=n(122),C=n.n(S),k=Object(j.withStyles)(function(e){return Object(b.a)({},e,{button:{padding:"0.3em"}})})(function(e){var t=e.classes;return s.a.createElement("div",{className:"buttons"},s.a.createElement(w.a,{title:"Restart Search",placement:"bottom"},s.a.createElement(v.a,{className:t.button,variant:"contained",size:"small",color:"secondary",onClick:function(t){e.searchActions.clearAll(),e.history.push("/")},fullWidth:!0},s.a.createElement(C.a,null))))}),N=n(7),x=n(53),T=n(54),F=n(59),L=n(55),A=n(61),_=n(30),R=n.n(_),I=n(23),D=n.n(I),U=n(25),G=n.n(U),P=n(50),B=n.n(P),q=n(39),W=n.n(q),H=n(15),M=n.n(H),z=n(35),K=n.n(z),X=n(124),Q=n.n(X),Y=n(28),J=n.n(Y),V=n(123),Z=n.n(V),$=n(83),ee=n.n($),te=n(155),ne=n.n(te),ae=n(156),re=n.n(ae),ce=(n(368),n(36)),oe=n.n(ce),ie=n(51),le=n.n(ie),se=n(74),ue=n.n(se),me=150,de="https://www.genecards.org/cgi-bin/carddisp.pl?gene=",pe=function(e){function t(){var e,n;Object(x.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(F.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={},n.handleClick=function(e){console.log("OPEN = = = ",e);var t="pw_"+e,a=n.state[t];void 0===a||null==a?n.setState(function(e){return Object(N.a)({},t,!0)}):n.setState(function(e){return Object(N.a)({},t,!a)})},n.getListItem=function(e,t){var a=e.summary;return a.length>me&&(a=a.substring(0,me-1)+"..."),s.a.createElement(s.a.Fragment,null,s.a.createElement(D.a,{alignItems:"flex-start",key:e._id,button:!0,onClick:function(t){return n.handleClick(e._id)}},s.a.createElement(B.a,null,s.a.createElement(W.a,{className:t.matched},"G")),s.a.createElement(G.a,{primary:e.symbol,secondary:s.a.createElement(s.a.Fragment,null,s.a.createElement(M.a,{component:"span",className:t.inline,color:"textPrimary"},e.name),s.a.createElement(M.a,{variant:"caption"},a))}),s.a.createElement(le.a,{className:t.linkIcon},s.a.createElement(J.a,{"aria-label":"Link to GeneCards",href:de+e.symbol,target:"_blank"},s.a.createElement(w.a,{title:"Open in GeneCards",placement:"bottom"},s.a.createElement(Z.a,null)))),n.state["pw_"+e._id]?s.a.createElement(ne.a,null):s.a.createElement(re.a,null)),n.getListChildren(e,t))},n.getListChildren=function(e,t){var a=e.pathway,r=Object.keys(a);return console.log("PW===",a),s.a.createElement(ue.a,{in:n.state[ge(e._id)],timeout:"auto",unmountOnExit:!0},s.a.createElement(R.a,{component:"div",disablePadding:!0},r.map(function(e){var n=a[e];return Array.isArray(n)?s.a.createElement(s.a.Fragment,null,n.map(function(n){return s.a.createElement(D.a,{button:!0,className:t.nested},s.a.createElement(oe.a,null,s.a.createElement(ee.a,null)),s.a.createElement(G.a,{inset:!0,primary:e+": "+n.id,secondary:s.a.createElement(s.a.Fragment,null,s.a.createElement(M.a,{component:"span",className:t.inline,color:"textPrimary"},n.name))}))})):s.a.createElement(D.a,{button:!0,className:t.nested},s.a.createElement(oe.a,null,s.a.createElement(ee.a,null)),s.a.createElement(G.a,{inset:!0,primary:n.name}))})))},n.getNotFound=function(e,t){return s.a.createElement("div",null,s.a.createElement(K.a,{variant:"middle"}),s.a.createElement(M.a,{className:t.title,variant:"body1"},"Unmatched: "+e.length),s.a.createElement(R.a,null,e.map(function(e){return n.getUnmatchedListItem(e,t)})))},n.getUnmatchedListItem=function(e){return s.a.createElement(D.a,{alignItems:"flex-start",key:e},s.a.createElement(oe.a,null,s.a.createElement(Q.a,null)),s.a.createElement(G.a,{inset:!0,primary:e}))},n}return Object(A.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;console.log("STTTTT,",this.state);var t=this.props.classes,n=this.props.search.results;if(!n)return s.a.createElement("div",{className:"gene-list-wrapper"});var a=n.genes,r=n.notFound;if(!a)return s.a.createElement("div",{className:"gene-list-wrapper"});var c=[],o=!0,i=!1,l=void 0;try{for(var u,m=a.values()[Symbol.iterator]();!(o=(u=m.next()).done);o=!0){var d=u.value;c.push(d)}}catch(p){i=!0,l=p}finally{try{o||null==m.return||m.return()}finally{if(i)throw l}}return s.a.createElement("div",{className:"gene-list-wrapper"},s.a.createElement(M.a,{variant:"h6"},"Search Result"),s.a.createElement(M.a,{variant:"body1"},"Matched Genes: "+c.length),s.a.createElement("div",{className:"gene-list"},s.a.createElement(R.a,null,c.map(function(n){return e.getListItem(n,t)}))),0!==r.length?this.getNotFound(r,t):null)}}]),t}(s.a.Component),ge=function(e){return"pw_"+e},fe=(Object(j.withStyles)(function(e){return{inline:{display:"inline"},title:{marginLeft:"0.5em",marginTop:"0.3em"},description:{marginLeft:"1em",marginTop:"0.3em"},matched:{backgroundColor:"teal"},unmatched:{backgroundColor:"red"},linkIcon:{paddingLeft:"1em"},nested:{paddingLeft:4*e.spacing.unit}}})(pe),n(380),n(111)),he=n.n(fe),Ee=function(e){return s.a.createElement("div",{className:"loading-container"},s.a.createElement(M.a,{className:"loading-title",variant:"h5",color:"primary"},e.title),s.a.createElement(M.a,{className:"loading-message",variant:"subtitle1",color:"default"},e.message),s.a.createElement(he.a,{size:100}))},be=(n(382),n(96)),ye=n.n(be),ve=function(e,t){t.searchActions.setSelectedGenes([e])},Oe=function(e,t,n,a){return t?s.a.createElement(ye.a,{className:n.chip,avatar:s.a.createElement(W.a,null,"G"),label:e.symbol,onClick:function(){return ve(e.symbol,a)},variant:"outlined",key:e.symbol}):s.a.createElement(ye.a,{avatar:s.a.createElement(W.a,null,"G"),label:"INVALID: "+e,onClick:ve,key:e})},we=Object(j.withStyles)(function(e){return{root:{display:"flex",justifyContent:"center"},chip:{margin:e.spacing.unit}}})(function(e){var t=e.classes,n=e.search.results;if(!n)return s.a.createElement("div",{className:"gene-list-wrapper"});var a=n.genes;if(!a)return s.a.createElement("div",{className:"gene-list-wrapper"});var r=[],c=!0,o=!1,i=void 0;try{for(var l,u=a.values()[Symbol.iterator]();!(c=(l=u.next()).done);c=!0){var m=l.value;r.push(m)}}catch(d){o=!0,i=d}finally{try{c||null==u.return||u.return()}finally{if(o)throw i}}return s.a.createElement("div",{className:"gene-list-wrapper",onClick:function(e){return function(e){console.log("Clear selection",e.target.value)}(e)}},r.map(function(n){return Oe(n,!0,t,e)}))}),je=function(e){return s.a.createElement("div",{className:"input-container"},s.a.createElement("div",{className:"input-wrapper"},s.a.createElement(k,e),s.a.createElement(we,e)))},Se=n(60),Ce=n(58),ke=n(113),Ne=n.n(ke),xe=n(114),Te=n.n(xe),Fe=n(57),Le=n(56),Ae=n.n(Le),_e=(n(385),function(e){return s.a.createElement("div",{className:"results-container"},s.a.createElement("div",{className:"message"},s.a.createElement("img",{alt:"Home logo",src:Ae.a,className:"home-logo"}),s.a.createElement(Fe.a,{variant:"h2"},"Cytoscape Cloud \u03b1"),s.a.createElement(Fe.a,{variant:"subtitle1"},"Enter / drag & drop a gene list to the text area")))}),Re=(n(65),n(130)),Ie=n(66),De=n.n(Ie),Ue=n(38),Ge=n(80),Pe=n.n(Ge),Be=Object(j.withStyles)(function(e){return{buttonIcon:{height:"2.5em",paddingLeft:"0.5em"}}})(function(e){var t=e.classes,n=e.uiState,a=e.network;console.log("OpenInButton props",e);return s.a.createElement(v.a,{variant:"contained",color:"default",disabled:!n.isCytoscapeRunning,onClick:function(){e.cyrestActions.importNetworkStarted(a.originalCX)}},"Open in",s.a.createElement("img",{alt:"Cytoscape logo",src:Ae.a,className:t.buttonIcon}))}),qe=Object(j.withStyles)(function(e){return{toolbar:{background:"#EFEFEF"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(N.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(N.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ue.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ue.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(N.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}}),buttonIcon:{height:"2.5em",paddingLeft:"0.5em"}}})(function(e){var t=e.classes,n=Object(Se.a)(e,["classes"]);return s.a.createElement(De.a,{className:t.toolbar},s.a.createElement(J.a,{className:t.menuButton,color:"primary","aria-label":"Open drawer"},s.a.createElement(Pe.a,null)),s.a.createElement(M.a,{className:t.title,variant:"subtitle1",color:"inherit",noWrap:!0},e.network.networkName),s.a.createElement("div",{className:t.grow}),s.a.createElement(Be,n))}),We=n(196),He=n.n(We),Me=(n(181),function(e){return s.a.createElement("div",{className:"warning-container"},s.a.createElement("div",{className:"warning-message-box"},s.a.createElement(Fe.a,{variant:"h6"},"Network is too big for interactive view"),s.a.createElement(Fe.a,{variant:"subtitle1"})))}),ze=null,Ke={width:"100%",height:"100%",background:"#222233"},Xe={name:"preset",padding:6},Qe={name:"concentric",padding:6},Ye={name:"cose",padding:6,nodeRepulsion:function(e){return 1008e4},nodeOverlap:4e5,idealEdgeLength:function(e){return 10}},Je=function(e){if(Object(l.useEffect)(function(){if(void 0!==ze&&null!==ze)return console.log("This should run only once:  CyViewer Mounted:",ze),ze.on("tap",function(t){try{ze.nodes().removeClass("connected"),t.target===ze&&(e.networkActions.deselectAll(),console.log("UNSELECT"))}catch(n){console.warn(n)}}),ze.on("tap","node",function(){try{ze.nodes().removeClass("connected");var t=this.data();e.networkActions.selectNode(t)}catch(n){console.warn(n)}}),ze.on("tap","edge",function(){try{ze.nodes().removeClass("connected");var t=this.data(),n=t.source,a=t.target;ze.$("#"+n+", #"+a).addClass("connected"),e.networkActions.selectEdge(t)}catch(r){console.warn(r)}}),function(){console.log("unmount")}},[]),e.network.nodeCount+e.network.edgeCount>5e3)return s.a.createElement(Me,null);var t=e.network.network;e.search.selectedGenes;if(null===t||void 0===t)return null;var n=t.isLayout,a=Xe;return n?t.elements.length>1e3&&(a=Qe):a=Ye,s.a.createElement(He.a,{elements:t.elements,layout:a,style:Ke,stylesheet:t.style,cy:function(e){return ze=e}})},Ve=function(e){return s.a.createElement("div",{className:"network-view"},s.a.createElement(qe,e),e.network.isFetching?s.a.createElement(Ee,{title:"Loading Network..."}):s.a.createElement(Je,e))},Ze=n(125),$e=(n(394),"https://www.genecards.org/cgi-bin/carddisp.pl?gene="),et=function(e){function t(){var e,n;Object(x.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(F.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={},n.handleClick=function(e){console.log("OPEN = = = ",e);var t="pw_"+e,a=n.state[t];void 0===a||null==a?n.setState(function(e){return Object(N.a)({},t,!0)}):n.setState(function(e){return Object(N.a)({},t,!a)})},n.getListItem=function(e,t){if(null===e||void 0===e)return null;var a=e.summary;return s.a.createElement(D.a,{alignItems:"flex-start",key:e._id,onClick:function(t){return n.handleClick(e._id)}},s.a.createElement(B.a,null,s.a.createElement(W.a,{className:t.matched},"G")),s.a.createElement(G.a,{primary:e.symbol,secondary:s.a.createElement(s.a.Fragment,null,s.a.createElement(M.a,{component:"span",className:t.inline,color:"textPrimary"},e.name),s.a.createElement(M.a,{variant:"caption"},a))}),s.a.createElement(le.a,{className:t.linkIcon},s.a.createElement(J.a,{"aria-label":"Link to GeneCards",href:$e+e.symbol,target:"_blank"},s.a.createElement(w.a,{title:"Open in GeneCards",placement:"bottom"},s.a.createElement(Z.a,null)))))},n.getListChildren=function(e,t){var a=e.pathway,r=Object.keys(a);return console.log("PW===",a),s.a.createElement(ue.a,{in:n.state[tt(e._id)],timeout:"auto",unmountOnExit:!0},s.a.createElement(R.a,{component:"div",disablePadding:!0},r.map(function(e){var n=a[e];return Array.isArray(n)?s.a.createElement(s.a.Fragment,null,n.map(function(n){return s.a.createElement(D.a,{button:!0,className:t.nested},s.a.createElement(oe.a,null,s.a.createElement(ee.a,null)),s.a.createElement(G.a,{inset:!0,primary:e+": "+n.id,secondary:s.a.createElement(s.a.Fragment,null,s.a.createElement(M.a,{component:"span",className:t.inline,color:"textPrimary"},n.name))}))})):s.a.createElement(D.a,{button:!0,className:t.nested},s.a.createElement(oe.a,null,s.a.createElement(ee.a,null)),s.a.createElement(G.a,{inset:!0,primary:n.name}))})))},n.getNotFound=function(e,t){return s.a.createElement("div",null,s.a.createElement(K.a,{variant:"middle"}),s.a.createElement(M.a,{className:t.title,variant:"body1"},"Unmatched: "+e.length),s.a.createElement(R.a,null,e.map(function(e){return n.getUnmatchedListItem(e,t)})))},n.getUnmatchedListItem=function(e){return s.a.createElement(D.a,{alignItems:"flex-start",key:e},s.a.createElement(oe.a,null,s.a.createElement(Q.a,null)),s.a.createElement(G.a,{inset:!0,primary:e}))},n}return Object(A.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.search.results;if(!t)return s.a.createElement("div",{className:"gene-list-wrapper"});var n=t.genes;if(!n)return s.a.createElement("div",{className:"gene-list-wrapper"});var a=this.props.geneSymbol.toLowerCase();return console.log("** LIST = ",a,n),this.getListItem(n.get(a),e)}}]),t}(s.a.Component),tt=function(e){return"pw_"+e},nt=Object(j.withStyles)(function(e){return{inline:{display:"inline"},title:{marginLeft:"0.5em",marginTop:"0.3em"},description:{marginLeft:"1em",marginTop:"0.3em"},matched:{backgroundColor:"teal"},unmatched:{backgroundColor:"red"},linkIcon:{paddingLeft:"1em"},nested:{paddingLeft:4*e.spacing.unit}}})(et),at=(Object(Ze.a)(function(e){return{container:{width:"100%",height:"100%",padding:"0.2em",backgroundColor:"#FFFFFF",overflow:"auto"},list:{height:"100%",width:"100%"},subtitle:{marginLeft:"1em",marginTop:"0.5em"}}}),function(e){var t=e.node,n=Object.keys(t);return s.a.createElement(s.a.Fragment,null,s.a.createElement(nt,Object.assign({geneSymbol:t.name},e)),n.map(function(e){return s.a.createElement(D.a,{key:e},s.a.createElement(G.a,{inset:!0,primary:t[e],secondary:e}))}))}),rt=function(e){var t=e.edge,n=Object.keys(t);return s.a.createElement(s.a.Fragment,null,n.map(function(e){return s.a.createElement(D.a,{key:e},s.a.createElement(G.a,{inset:!0,primary:t[e],secondary:e}))}))},ct=function(e){var t=e.d;if(void 0===t&&(t="string"),t.startsWith("list_of"))return"(list not supported)";var n=e.v;return null===n||void 0===n?"":n.replace(/<(?:.|\n)*?>/gm," ")},ot=function(e){for(var t=e.originalCX,n=t.length,a=null;n--;){var r=t[n];if(r.networkAttributes){a=r.networkAttributes;break}}if(null!==a)return s.a.createElement(s.a.Fragment,null,a.map(function(e){return s.a.createElement(D.a,{key:e.n},s.a.createElement(G.a,{inset:!0,primary:ct(e),secondary:e.n}))}))},it=Object(Ze.a)(function(e){return{container:{width:"100%",height:"100%",padding:"0.2em",backgroundColor:"#FFFFFF",overflow:"auto"},list:{height:"100%",width:"100%"},subtitle:{marginLeft:"1em",marginTop:"0.5em"}}}),lt=function(e){var t=it(),n=e.network;if(null===n)return s.a.createElement("div",null);var a=n.originalCX;if(null===a)return s.a.createElement("div",null);var r=n.selectedNode,c=n.selectedEdge;return console.log("Selected: ",r,c,a,n),r||c?s.a.createElement("div",{className:t.container},s.a.createElement(R.a,{component:"nav",className:t.list},null!==r?s.a.createElement(at,Object.assign({node:r},e)):s.a.createElement(rt,{edge:c}))):s.a.createElement("div",{className:t.container},s.a.createElement(R.a,{component:"nav",className:t.list},s.a.createElement(ot,{originalCX:a})))},st=function(e){return s.a.createElement(Re.a,{sizes:[70,30],direction:"vertical",gutterSize:6,className:"nv-container"},s.a.createElement(Ve,e),s.a.createElement(lt,e))},ut=n(197),mt=n.n(ut),dt=n(95),pt=n.n(dt),gt="http://secret.ndexbio.org:8090/",ft=function(e,t){var n="http://127.0.0.1:"+e+"/cyndex2/v1/networks/cx";return console.log("Calling CyREST POST:",n),fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})},ht=n(112),Et=n.n(ht),bt=n(45),yt=n.n(bt),vt=[{value:"name",label:"Name"},{value:"numNodes",label:"Number of Nodes"},{value:"overlap",label:"% Overlap"}],Ot=Object(j.withStyles)(function(e){return{toolbar:{background:"#FFFFFF"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(N.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),sortBy:{width:"15em"},search:Object(N.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Ue.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Ue.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(N.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}})}})(function(e){var t,n=e.classes,a=s.a.useState({sortBy:"name"}),r=Object(Ce.a)(a,2),c=r[0],o=r[1];return s.a.createElement(Et.a,{select:!0,label:"Sort by:",value:c.sortBy,onChange:(t="sortBy",function(e){o(Object(b.a)({},c,Object(N.a)({},t,e.target.value)))}),className:n.sortBy},vt.map(function(e){return s.a.createElement(yt.a,{key:e.value,value:e.value},e.label)}))}),wt=function(e){console.log(e.uiState.urlParams),function(e){var t="http://127.0.0.1:"+e+"/v1";return console.log("Calling CyREST API:",t),fetch(t,{method:"GET"})}(e.uiState.urlParams.has("cyrestport")?e.uiState.urlParams.get("cyrestport"):1234).catch(function(e){throw Error(e)}).then(function(e){return jt(e)}).then(function(t){e.uiStateActions.setCytoscapeStatus(!0)}).catch(function(t){e.uiStateActions.setCytoscapeStatus(!1)})},jt=function(e){return console.log("Calling!!",e),void 0!==e},St=Object(j.withStyles)(function(e){return{inline:{display:"inline"},subtitle:{marginLeft:"1em",marginTop:"0.5em"},networkAvatar:{margin:10,color:"#fff",backgroundColor:mt.a[500]},menuItem:{height:"4em","&:focus":{backgroundColor:"rgba(200,205,200,0.5)"}},menuText:{"&:focus":{}},secondary:{width:"15em",display:"flex",alignItems:"center",padding:"0.2em"},plot:{width:"80%",background:"teal"}}})(function(e){var t=e.classes,n=e.hits,a=e.sourceUUID,r=e.search.queryList,c=e.search.results.jobId,o=function(t,n){var o=t.description,i=t.networkUUID,l=t.percentOverlap,u=t.nodes,m=t.edges,d=t.imageURL;return s.a.createElement(yt.a,{className:n.menuItem,alignItems:"flex-start",key:i,onClick:function(t){return function(t,n,o,i){e.networkActions.setNetworkSize({nodeCount:o,edgeCount:i}),o+i>5e3||(wt(e),e.networkActions.networkFetchStarted({id:c,sourceUUID:a,networkUUID:t,networkName:n,geneList:r}))}(i,o,u,m)}},s.a.createElement(B.a,null,s.a.createElement(W.a,{className:n.networkAvatar,src:d},"N")),s.a.createElement(G.a,{className:n.menuText,primary:o,secondary:s.a.createElement(s.a.Fragment,null,s.a.createElement(M.a,{component:"span",className:n.inline,color:"textPrimary"},"Nodes: "+u+", Edges: "+m),s.a.createElement(M.a,{variant:"caption"},"UUID: "+i))}),s.a.createElement(le.a,{className:n.secondary},s.a.createElement("div",{style:{background:"teal",color:"white",height:"2em",width:3*l+"px"}},s.a.createElement(M.a,{variant:"body2",style:{color:"#AAAAAA"}},l+"%"))))};return n?s.a.createElement("div",{className:"network-list-wrapper"},s.a.createElement(Ot,null),s.a.createElement("div",{className:"network-list"},s.a.createElement(pt.a,null,n.map(function(e){return o(e,t)})))):s.a.createElement("div",{className:"network-list-wrapper"})}),Ct=function(e){return s.a.createElement(Re.a,{sizes:[50,50],gutterSize:7,className:"ndex-base"},s.a.createElement(St,e),s.a.createElement(st,e))},kt=function(e){if(null===e||void 0===e)return null;var t=e.map(function(e){return s.a.createElement(Te.a,{key:e.sourceUUID,label:e.sourceName})});return console.log("TABBS = ",t),t},Nt=function(e,t,n){if(null===t||void 0===t)return null;var a=t[e];if(!a)return null;var r=a.results,c=a.sourceUUID;return s.a.createElement(Ct,Object.assign({hits:r,sourceUUID:c},n))},xt=Object(j.withStyles)(function(e){return{tabs:{width:"100%",backgroundColor:"#FFFFFF"}}})(function(e){var t=Object(l.useState)(0),n=Object(Ce.a)(t,2),a=n[0],r=n[1],c=(e.classes,Object(Se.a)(e,["classes"])),o=e.search.searchResults;return console.log("Current Result:",o),null===o?s.a.createElement(_e,null):s.a.createElement("div",{className:"results-container"},s.a.createElement("div",{className:"results-wrapper"},s.a.createElement(Ne.a,{value:a,onChange:function(e,t){r(t)}},kt(o.sources)),Nt(a,o.sources,c)))}),Tt=(n(451),n(116)),Ft=n.n(Tt),Lt=n(127),At=n.n(Lt),_t=n(6),Rt=n.n(_t),It=n(198),Dt=n.n(It),Ut=n(41),Gt=n.n(Ut),Pt=n(47),Bt=n.n(Pt),qt=n(199),Wt=n(115),Ht=n.n(Wt),Mt=Object(j.withStyles)({root:{display:"flex",alignItems:"center",justifyContent:"center",width:"30vmin",padding:"0.3em",background:"#f1f1f1",marginLeft:"1em"},input:{marginLeft:8,flex:1},iconButton:{padding:10},divider:{width:1,height:28,margin:4}})(function(e){var t=e.classes,n=Object(l.useRef)(null);Object(l.useEffect)(function(){return Object(qt.loadCSS)("https://use.fontawesome.com/releases/v5.1.0/css/all.css",document.querySelector("#insertion-point-jss")),function(){}},[]);return s.a.createElement(Gt.a,{className:t.root,elevation:0},s.a.createElement(Bt.a,{id:"original-gene-text",className:t.input,placeholder:"Genes entered",value:e.search.queryGenes,readOnly:!0,ref:n}),s.a.createElement(K.a,{className:t.divider}),s.a.createElement(w.a,{title:"Copy",placement:"bottom"},s.a.createElement(J.a,{color:"default",className:t.iconButton,"aria-label":"Directions",onClick:function(){document.getElementById("original-gene-text").select(),document.execCommand("copy")}},s.a.createElement(Ht.a,{className:Rt()(t.icon,"far fa-clipboard")}))))}),zt=function(e){function t(){var e,n;Object(x.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(F.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).handleMenu=function(){n.props.uiStateActions.setSettingsOpen(!n.props.uiState.isSettingsOpen)},n}return Object(A.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=Object(Se.a)(e,["classes"]),a=this.props.uiState.isSettingsOpen;return s.a.createElement(Ft.a,{position:"fixed",color:"inherit",className:Rt()(t.appBar,Object(N.a)({},t.appBarShift,a))},s.a.createElement(De.a,{disableGutters:!a},s.a.createElement(J.a,{className:Rt()(t.menuButton,a&&t.hide),color:"inherit","aria-label":"Menu",onClick:this.handleMenu},s.a.createElement(Pe.a,null)),s.a.createElement("div",null,s.a.createElement(M.a,{variant:"h6",color:"inherit"},"NDEx Network Search:"),s.a.createElement(M.a,{variant:"body1"},"Pathway Enrichment / Gene Neighborhoods / Keywords")),null===this.props.search.results?s.a.createElement("div",null):s.a.createElement(Mt,n),s.a.createElement("div",{className:t.grow}),s.a.createElement("div",null,s.a.createElement(J.a,{"aria-haspopup":"true",color:"inherit",onClick:function(){return Qt(Kt)}},s.a.createElement(At.a,{fontSize:"large"})),s.a.createElement(J.a,{"aria-haspopup":"true",color:"inherit",onClick:function(){return Qt(Xt)}},s.a.createElement("img",{alt:"GitHub logo",src:Dt.a,className:t.headerLogo})))))}}]),t}(s.a.Component),Kt="https://www.cytoscape.org/",Xt="https://github.com/idekerlab/cytoscape-cloud-portal",Qt=function(e){window.open(e,"_blank")},Yt=Object(j.withStyles)(function(e){return{root:{flexGrow:1},grow:{flexGrow:1},hide:{display:"none"},menuButton:{marginLeft:12,marginRight:10},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},logo:{height:"2.5em",marginRight:"0.7em"},headerLogo:{height:"1.4em"}}},{withTheme:!0})(zt),Jt=n(117),Vt=n.n(Jt),Zt=n(200),$t=n.n(Zt),en=n(201),tn=n.n(en),nn=n(202),an=n.n(nn),rn=n(203),cn=n.n(rn),on=n(204),ln=n.n(on),sn=(n(454),function(e){function t(){var e,n;Object(x.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(F.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).handleDrawerClose=function(){var e=n.props.uiState.isSettingsOpen;n.props.uiStateActions.setSettingsOpen(!e)},n}return Object(A.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.theme,a=this.props.uiState.isSettingsOpen;return s.a.createElement(Vt.a,{className:t.drawer,variant:"persistent",anchor:"left",open:a,classes:{paper:t.drawerPaper}},s.a.createElement("div",{className:"drawerHeader"},s.a.createElement(J.a,{onClick:this.handleDrawerClose},"ltr"===n.direction?s.a.createElement($t.a,null):s.a.createElement(tn.a,null))),s.a.createElement(K.a,null),s.a.createElement(R.a,null,["This","panel is","for advanced","options"].map(function(e,t){return s.a.createElement(D.a,{button:!0,key:e},s.a.createElement(oe.a,null,t%2===0?s.a.createElement(an.a,null):s.a.createElement(cn.a,null)),s.a.createElement(G.a,{primary:e}))})),s.a.createElement(K.a,null),s.a.createElement(R.a,null,["More options","Help","??"].map(function(e,t){return s.a.createElement(D.a,{button:!0,key:e},s.a.createElement(oe.a,null,t%2===0?s.a.createElement(ln.a,null):s.a.createElement(At.a,null)),s.a.createElement(G.a,{primary:e}))})))}}]),t}(s.a.Component)),un=Object(j.withStyles)(function(e){return{drawer:{width:240,flexShrink:0},drawerPaper:{width:240}}},{withTheme:!0})(sn),mn=n(118),dn=n.n(mn),pn=Object(j.withStyles)(function(e){return{root:{display:"flex",height:"100vmin"},drawerHeader:Object(b.a)({display:"flex",padding:"0 8px",alignItems:"center"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}},{withTheme:!0})(function(e){var t=e.classes,n=Object(Se.a)(e,["classes"]),a=e.uiState.isSettingsOpen;return s.a.createElement("div",{className:t.root},s.a.createElement(dn.a,null),s.a.createElement(Yt,n),s.a.createElement(un,n),s.a.createElement("div",{className:Rt()(t.content,Object(N.a)({},t.contentShift,a))}),e.children)}),gn=function(e){Object(l.useEffect)(function(){if(null!==e.search.results){var n=e.search.results.jobId;e.searchActions.fetchResultStarted({jobId:n})}return window.onpopstate=t,function(){}},[]);var t=function(t){t.preventDefault(),e.searchActions.clearAll(),e.history.push("/")};return e.search.isFetching?s.a.createElement(Ee,{title:"Loading Search Results"}):s.a.createElement(pn,e,s.a.createElement("div",{className:"container"},s.a.createElement(je,Object.assign({className:"input"},e)),s.a.createElement(xt,Object.assign({className:"results"},e))))},fn=n(477),hn=n(479),En="SET_QUERY",bn="CLEAR_QUERY",yn="SEARCH_STARTED",vn="SEARCH_SUCCEEDED",On="SEARCH_FAILED",wn="FETCH_RESULT_STARTED",jn="FETCH_RESULT_SUCCEEDED",Sn="FETCH_RESULT_FAILED",Cn="CLEAR_ALL",kn="SET_SELECTED_GENES",Nn=Object(hn.a)(En),xn=Object(hn.a)(bn),Tn=Object(hn.a)(yn),Fn=Object(hn.a)(vn),Ln=Object(hn.a)(On),An=Object(hn.a)(wn),_n=Object(hn.a)(jn),Rn=Object(hn.a)(Sn),In=Object(hn.a)(Cn),Dn=Object(hn.a)(kn),Un="SET_SETTINGS_OPEN",Gn=Object(hn.a)(Un),Pn="SET_CYTOSCAPE_STATUS",Bn=Object(hn.a)(Pn),qn="NETWORK_FETCH_STARTED",Wn="NETWORK_FETCH_SUCCEEDED",Hn="NETWORK_FETCH_FAILED",Mn="SET_NETWORK_SIZE",zn="SELECT_NODE",Kn="SELECT_EDGE",Xn="DESELECT_ALL",Qn=Object(hn.a)(qn),Yn=Object(hn.a)(Wn),Jn=Object(hn.a)(Hn),Vn=Object(hn.a)(Mn),Zn=Object(hn.a)(zn),$n=Object(hn.a)(Kn),ea=Object(hn.a)(Xn),ta="FIND_SOURCE_STARTED",na="FIND_SOURCE_SUCCEEDED",aa="FIND_SOURCE_FAILED",ra=Object(hn.a)(ta),ca=Object(hn.a)(na),oa=Object(hn.a)(aa),ia="IMPORT_NETWORK_STARTED",la="IMPORT_NETWORK_SUCCEEDED",sa="IMPORT_NETWORK_FAILED",ua=Object(hn.a)(ia),ma=Object(hn.a)(la),da=Object(hn.a)(sa);var pa=Object(fn.a)(Object(m.b)(function(e){return{search:e.search,uiState:e.uiState,network:e.network,source:e.source}},function(e){return{searchActions:Object(u.bindActionCreators)(a,e),uiStateActions:Object(u.bindActionCreators)(r,e),networkActions:Object(u.bindActionCreators)(c,e),sourceActions:Object(u.bindActionCreators)(o,e),cyrestActions:Object(u.bindActionCreators)(i,e)}})(function(e){return s.a.createElement(gn,e)})),ga=(n(154),n(207)),fa=n.n(ga),ha=n(119),Ea=n.n(ha),ba=["kras egfr cdk4 tp53","per1 per2 clock","mtor wnt1 igf1"],ya=Object(j.withStyles)({root:{padding:"2px 4px",display:"flex",alignItems:"center"},input:{marginLeft:8,flex:1},iconButton:{padding:10},divider:{width:1,height:28,margin:4}})(function(e){var t=e.classes,n=Object(l.useState)({anchorEl:null,query:""}),a=Object(Ce.a)(n,2),r=a[0],c=a[1];Object(l.useEffect)(function(){if(void 0!==e.search&&null!==e.search.results){var t=e.search.results.jobId,n=e;console.log("** Search route:",t,n),e.history.push("/".concat(t))}return function(){console.log("Page unmounted")}},[]);var o,i=Boolean(r.anchorEl),u=function(t){c(Object(b.a)({},e,{query:ba[t],anchorEl:null}))},m=function(e){return e.replace(","," ")};return s.a.createElement(Gt.a,{className:"search-text-box",elevation:1},s.a.createElement("div",null,s.a.createElement(J.a,{className:t.iconButton,"aria-label":"Menu",onClick:function(e){c(Object(b.a)({},r,{anchorEl:e.currentTarget}))}},s.a.createElement(Pe.a,null)),s.a.createElement(Ea.a,{anchorEl:r.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:function(){c(Object(b.a)({},r,{anchorEl:null}))}},s.a.createElement(yt.a,{onClick:function(){return u(0)}},"Gene List 1"),s.a.createElement(yt.a,{onClick:function(){return u(1)}},"Gene List 2"),s.a.createElement(yt.a,{onClick:function(){return u(2)}},"Gene List 3"))),s.a.createElement(Bt.a,{className:t.input,placeholder:"Enter gene list (...or click menu for examples)",onChange:(o="query",function(t){c(Object(b.a)({},e,Object(N.a)({},o,t.target.value)))}),value:r.query}),s.a.createElement(J.a,{className:t.iconButton,"aria-label":"Search",onClick:function(t){var n=r.query,a=e.source.sources;if(0!==n.length&&null!==a&&0!==a.length){var c=a.map(function(e){return e.name}),o=m(n),i=o.split(/ /);e.searchActions.setQuery(o),e.searchActions.searchStarted({geneList:i,sourceNames:c})}}},s.a.createElement(fa.a,null)),s.a.createElement(K.a,{className:t.divider}),s.a.createElement(J.a,{color:"primary",className:t.iconButton,"aria-label":"Directions",onClick:function(){c(Object(b.a)({},r,{query:""}))}},s.a.createElement(C.a,null)))}),va=n(81),Oa=n.n(va),wa=n(208),ja=n.n(wa),Sa="https://cytoscape.org/",Ca="https://www.ndexbio.org/",ka="https://medschool.ucsd.edu/som/medicine/research/labs/ideker/Pages/default.aspx",Na=function(e){window.open(e,"_blank")},xa=function(e){return s.a.createElement("footer",{className:"footer-container"},s.a.createElement(M.a,{variant:"subtitle1"},"\xa9 2019 UC, San Diego Ideker Lab"),s.a.createElement("img",{alt:"NDEx logo",src:Oa.a,className:"footer-logo",onClick:function(){return Na(Ca)}}),s.a.createElement("img",{alt:"Cytoscape logo",src:Ae.a,className:"footer-logo",onClick:function(){return Na(Sa)}}),s.a.createElement("img",{alt:"UCSD logo",src:ja.a,className:"footer-logo",onClick:function(){return Na(ka)}}))},Ta=n(75),Fa=n.n(Ta),La=n(76),Aa=n.n(La),_a=n(79),Ra=n.n(_a),Ia=n(78),Da=n.n(Ia),Ua=n(77),Ga=n.n(Ua),Pa=n(209),Ba=n.n(Pa),qa=n(210),Wa=n.n(qa),Ha=[Oa.a,Ae.a,Ba.a,Wa.a],Ma=function(){var e=Math.floor(4*Math.random());return Ha[e]},za=Object(j.withStyles)({card:{minWidth:345,maxWidth:345,minHeight:380,marginLeft:"1em"},media:{objectFit:"cover"}})(function(e){var t=e.classes,n=e.source;return s.a.createElement(Fa.a,{className:t.card},s.a.createElement(Aa.a,null,s.a.createElement(Ga.a,{component:"img",alt:"Contemplative Reptile",className:t.media,height:"140",src:Ma()}),s.a.createElement(Da.a,null,s.a.createElement(M.a,{gutterBottom:!0,variant:"h5",component:"h2"},n.name),s.a.createElement(M.a,{gutterBottom:!0,variant:"subheading"},"(v"+n.version+")"),s.a.createElement(M.a,{component:"p"},n.description),s.a.createElement(M.a,{variant:"h6"},"Status: "+n.status))),s.a.createElement(Ra.a,null))}),Ka=n(211),Xa=n.n(Ka),Qa=function(){window.location.reload(!0)},Ya=Object(j.withStyles)({card:{minWidth:345,maxWidth:345,padding:"1em"},media:{objectFit:"fit"}})(function(e){var t=e.classes;return s.a.createElement(Fa.a,{className:t.card},s.a.createElement(Aa.a,null,s.a.createElement(Ga.a,{component:"img",alt:"Error loading source",className:t.media,height:"300",src:Xa.a,title:"Error loading source"}),s.a.createElement(Da.a,null,s.a.createElement(M.a,{gutterBottom:!0,variant:"h6",component:"h2",color:"error"},"Failed to access services"),s.a.createElement(M.a,{component:"p",color:"error"},"Something is wrong with tne search service. After a few moments, please reload the page and try again."))),s.a.createElement(Ra.a,null,s.a.createElement(v.a,{variant:"outlined",size:"small",color:"primary",onClick:Qa},"Reload")))}),Ja=function(e){if(void 0===e.source||!e.source.sources)return null;var t=e.source.sources;return null!==e.source.error?s.a.createElement("div",{className:"source-container"},s.a.createElement(Ya,null)):s.a.createElement("div",{className:"source-container"},t.map(function(e){return s.a.createElement(za,{key:e.uuid,source:e})}))},Va=n(212),Za=n.n(Va),$a=function(e){return Object(l.useEffect)(function(){var t=Za.a.parse(e.location.search);console.log("**MOUNTED: path params:",t);var n=t.genes;if(void 0!==n){var a=n.split(",");e.searchActions.setQuery(n),console.log("Got genes.  Start search now!",a),e.searchActions.searchStarted({geneList:a})}return e.sourceActions.findSourceStarted(),function(){console.log("Page unmounted")}},[]),e.search.isSearching?s.a.createElement(Ee,{title:"Searching Remote Database",message:"Please wait..."}):s.a.createElement("div",{className:"start-container"},s.a.createElement("div",{className:"start-title"},s.a.createElement("img",{className:"start-logo-main",src:Oa.a,alt:"logo"})),s.a.createElement(ya,e),s.a.createElement(Ja,e),s.a.createElement(xa,null))},er=function(e){return s.a.createElement(pn,e,s.a.createElement($a,e))};var tr=Object(fn.a)(Object(m.b)(function(e){return{search:e.search,uiState:e.uiState,network:e.network,source:e.source}},function(e){return{searchActions:Object(u.bindActionCreators)(a,e),uiStateActions:Object(u.bindActionCreators)(r,e),networkActions:Object(u.bindActionCreators)(c,e),sourceActions:Object(u.bindActionCreators)(o,e)}})(function(e){return s.a.createElement(er,e)})),nr=function(e){return s.a.createElement(tr,e)},ar=function(e){return s.a.createElement(pa,e)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var rr,cr,or,ir=n(475),lr={isSearching:!1,isFetching:!1,queryGenes:"",queryList:[],results:null,searchStatus:null,searchResults:null,selectedGenes:[]},sr=Object(ir.a)((rr={},Object(N.a)(rr,Nn,function(e,t){return Object(b.a)({},e,{queryGenes:t.payload})}),Object(N.a)(rr,xn,function(e,t){return Object(b.a)({},e,{queryGenes:"",queryList:[]})}),Object(N.a)(rr,In,function(e,t){return lr}),Object(N.a)(rr,Tn,function(e,t){return Object(b.a)({},e,{isSearching:!0,queryList:e.queryGenes.split(" ")})}),Object(N.a)(rr,Fn,function(e,t){return Object(b.a)({},e,{results:t.payload,isSearching:!1})}),Object(N.a)(rr,Ln,function(e,t){return Object(b.a)({},e,{isSearching:!1})}),Object(N.a)(rr,Dn,function(e,t){return console.log("Setting selected gene:",t),Object(b.a)({},e,{selectedGenes:t.payload})}),Object(N.a)(rr,An,function(e,t){return Object(b.a)({},e,{isFetching:!0,searchStatus:null,searchResults:null})}),Object(N.a)(rr,_n,function(e,t){return Object(b.a)({},e,{searchResults:t.payload.searchResults,isFetching:!1})}),Object(N.a)(rr,Rn,function(e,t){return Object(b.a)({},e,{isFetching:!1})}),rr),lr),ur={isCytoscapeRunning:!1,isSettingsOpen:!1,urlParams:new URLSearchParams(window.location.search)},mr=Object(ir.a)((cr={},Object(N.a)(cr,Gn,function(e,t){return console.log("OPEN = ",t.payload),Object(b.a)({},e,{isSettingsOpen:t.payload})}),Object(N.a)(cr,Bn,function(e,t){return console.log("Cytoscape is running = ",t.payload),Object(b.a)({},e,{isCytoscapeRunning:t.payload})}),cr),ur),dr=n(158),pr=n(157),gr=n(213),fr=new pr.CyNetworkUtils,hr=new pr.CxToJs(fr),Er=gr[0].style;Er.push({selector:"node:selected",css:{"background-color":"red",color:"#FFFFFF","background-opacity":1,"border-width":0,width:100,height:100}});var br,yr,vr=Object(ir.a)((or={},Object(N.a)(or,Qn,function(e,t){return console.log("Query start: genes = ",t),Object(b.a)({},e,{isFetching:!0,nodeCount:0,edgeCount:0,jobId:t.payload.id,sourceId:t.payload.sourceUUID,uuid:t.payload.networkUUID,networkName:t.payload.networkName,queryGenes:t.payload.geneList,originalCX:null,network:null,isLayoutComplete:!1})}),Object(N.a)(or,Yn,function(e,t){return Object(b.a)({},e,{originalCX:t.cx,network:Or(t.cx,e.queryGenes),isFetching:!1})}),Object(N.a)(or,Jn,function(e,t){return Object(b.a)({},e,{network:null,originalCX:null,isFetching:!1,nodeCount:0,edgeCount:0})}),Object(N.a)(or,Vn,function(e,t){return Object(b.a)({},e,{nodeCount:t.payload.nodeCount,edgeCount:t.payload.edgeCount})}),Object(N.a)(or,Zn,function(e,t){return Object(b.a)({},e,{selectedNode:t.payload,selectedEdge:null})}),Object(N.a)(or,$n,function(e,t){return Object(b.a)({},e,{selectedNode:null,selectedEdge:t.payload})}),Object(N.a)(or,ea,function(e,t){return Object(b.a)({},e,{selectedNode:null,selectedEdge:null})}),or),{isFetching:!1,uuid:"",jobId:"",sourceId:"",networkName:"",queryGenes:[],originalCX:null,network:null,nodeCount:0,edgeCount:0,isLayoutComplete:!1,selectedNode:null,selectedEdge:null}),Or=function(e,t){var n=fr.rawCXtoNiceCX(e),a={},r=hr.cyElementsFromNiceCX(n,a),c=(hr.cyStyleFromNiceCX(n,a),Sr(Er,t)),o=wr(r.nodes,t);return{elements:[].concat(Object(dr.a)(o),Object(dr.a)(r.edges)),style:c,isLayout:jr(r.nodes)}},wr=function(e,t){for(var n=e.length,a=new Set(t.map(function(e){return e.toUpperCase()}));n--;){var r=e[n],c=r.position,o=r.data.name.toUpperCase();a.has(o)&&(r.data.query="true"),void 0!==c&&(r.position={x:2*c.x,y:2*c.y})}return e},jr=function(e){return void 0!==e[0].position},Sr=function(e){return Er.push({selector:"node:selected",css:{"background-color":"#F2355B",width:function(e){return 1.3*e.width()},height:function(e){return 1.3*e.height()}}}),Er.push({selector:"edge:selected",css:{"line-color":"#F2355B","target-arrow-color":"#F2355B",opacity:1,width:6}}),Er.push({selector:".connected",css:{"background-color":"#F2355B","background-opacity":1}}),e},Cr=vr,kr=Object(ir.a)((br={},Object(N.a)(br,ra,function(e,t){return Object(b.a)({},e,{isFetchingSource:!0,error:null,sources:[]})}),Object(N.a)(br,ca,function(e,t){return Object(b.a)({},e,{sources:t.sources,isFetchingSource:!1,error:null})}),Object(N.a)(br,oa,function(e,t){return console.warn("Error:",t.error),Object(b.a)({},e,{isFetchingSource:!1,error:t.error,sources:[]})}),br),{isFetchingSource:!1,sources:[],error:null}),Nr=Object(ir.a)((yr={},Object(N.a)(yr,ua,function(e,t){return Object(b.a)({},e,{error:null})}),Object(N.a)(yr,ma,function(e,t){return Object(b.a)({},e,{error:null})}),Object(N.a)(yr,da,function(e,t){return console.warn("Error===",t.error),Object(b.a)({},e,{error:t.error})}),yr),{error:null}),xr=Object(u.combineReducers)({source:kr,search:sr,uiState:mr,network:Cr,cyrest:Nr}),Tr=n(32),Fr=n.n(Tr),Lr=n(17),Ar=function(e,t,n){var a=gt+e+"/overlaynetwork?sourceUUID="+t+"&networkUUID="+n;return console.log("Calling CX API:",a),fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}})},_r=function(e){var t="http://mygene.info/v3/query?q="+e+"&scopes=symbol&fields=symbol,name,taxid,entrezgene,summary,genomic_pos,go,pathway";return console.log("Calling MyGene API:",t),fetch(t,{method:"POST"})},Rr=function(){var e=gt+"source";return console.log("Calling sources:",e),fetch(e,{method:"GET",mode:"cors"}).then(function(e){if(!e.ok)throw Error("Failed to fetch source list:"+e.status);return e}).catch(function(e){return{error:e}})},Ir=function(e){return fetch(gt+e+"/status",{method:"GET"}).then(function(e){if(!e.ok)throw Error("Failed to fetch source list:"+e.status);return e}).catch(function(e){return{error:e}})},Dr=function(e){return fetch(gt+e,{method:"GET"}).then(function(e){if(!e.ok)throw Error("Failed to fetch search result:"+e.status);return e}).catch(function(e){return{error:e}})},Ur=function(e,t){var n={geneList:e,sourceList:t};console.log("Sending query to search service:",n);var a=new Headers({"Content-Type":"application/json"});return fetch("http://secret.ndexbio.org:8090/",{method:"POST",headers:a,body:JSON.stringify(n)}).then(function(e){if(!e.ok)throw Error("Failed to send query:"+e.status);return e}).catch(function(e){return{error:e}})},Gr=Fr.a.mark(Mr),Pr=Fr.a.mark(zr),Br=Fr.a.mark(Qr),qr=Fr.a.mark(Yr),Wr=Fr.a.mark(Jr),Hr=1e3;function Mr(){return Fr.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("rootSaga reporting for duty"),e.next=3,Object(Lr.e)(yn,zr);case 3:return e.next=5,Object(Lr.e)(wn,Qr);case 5:return e.next=7,Object(Lr.e)(qn,Yr);case 7:return e.next=9,Object(Lr.e)(ta,Jr);case 9:case"end":return e.stop()}},Gr)}function zr(e){var t,n,a,r,c,o,i,l,s,u,m,d,p,g,f;return Fr.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(console.log("## Search started.",e),t=e.payload.geneList,void 0!==(n=e.payload.sourceNames)){h.next=13;break}return h.next=6,Object(Lr.b)(Rr,null);case 6:return a=h.sent,h.next=9,Object(Lr.b)([a,"json"]);case 9:r=h.sent,c=r.results,n=c.map(function(e){return e.name}),console.log("* Fetched sources:",n);case 13:return o=t.join(),console.log("## genes and sources:",t,n),h.prev=15,h.next=18,Object(Lr.a)([Object(Lr.b)(_r,o),Object(Lr.b)(Ur,t,n)]);case 18:return i=h.sent,l=Object(Ce.a)(i,2),s=l[0],u=l[1],h.next=24,Object(Lr.b)([s,"json"]);case 24:return m=h.sent,d=u.headers.get("Location"),p=d.split("/"),g=p[p.length-1],f=Vr(m),console.log("## Filtered genes:",f),h.next=32,Object(Lr.c)({type:vn,payload:{genes:f.uniqueGeneMap,notFound:f.notFound,resultLocation:d,jobId:g}});case 32:h.next=39;break;case 34:return h.prev=34,h.t0=h.catch(15),console.warn("NDEx search error:",h.t0),h.next=39,Object(Lr.c)({type:On,payload:{message:"NDEx network search error",query:o,error:h.t0.message}});case 39:case"end":return h.stop()}},Pr,null,[[15,34]])}var Kr=function(e){return console.log(e.progress,e.sources),100===e.progress},Xr=function(e){return new Promise(function(t){return setTimeout(t,e)})};function Qr(e){var t,n,a,r,c,o;return Fr.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:t=e.payload.jobId,i.prev=1,n=!1,a=null;case 4:if(n){i.next=20;break}return i.next=7,Object(Lr.b)(Ir,t);case 7:return r=i.sent,i.next=10,Object(Lr.b)([r,"json"]);case 10:if(a=i.sent,!(n=Kr(a))){i.next=16;break}return i.abrupt("break",20);case 16:return i.next=18,Object(Lr.b)(Xr,Hr);case 18:i.next=4;break;case 20:return i.next=22,Object(Lr.b)(Dr,t);case 22:return c=i.sent,i.next=25,Object(Lr.b)([c,"json"]);case 25:return o=i.sent,console.log("## Result fetch:",a,o),i.next=29,Object(Lr.c)({type:jn,payload:{searchResults:o}});case 29:i.next=36;break;case 31:return i.prev=31,i.t0=i.catch(1),console.warn("NDEx search error:",i.t0),i.next=36,Object(Lr.c)({type:Sn,payload:{message:"Failed to fetch search result",jobId:t,error:i.t0.message}});case 36:case"end":return i.stop()}},Br,null,[[1,31]])}function Yr(e){var t,n,a,r,c,o;return Fr.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,console.log("Action cont----------",e),t=e.payload,n=t.id,a=t.sourceUUID,r=t.networkUUID,i.next=8,Object(Lr.b)(Ar,n,a,r);case 8:return c=i.sent,i.next=11,Object(Lr.b)([c,"json"]);case 11:return o=i.sent,i.next=14,Object(Lr.c)({type:Wn,cx:o});case 14:i.next=20;break;case 16:return i.prev=16,i.t0=i.catch(0),i.next=20,Object(Lr.c)({type:Hn,error:i.t0});case 20:case"end":return i.stop()}},qr,null,[[0,16]])}function Jr(e){var t,n;return Fr.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Lr.b)(Rr,null);case 3:return t=e.sent,e.next=6,Object(Lr.b)([t,"json"]);case 6:return n=e.sent,e.next=9,Object(Lr.c)({type:na,sources:n.results});case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,Object(Lr.c)({type:aa,error:e.t0});case 15:case"end":return e.stop()}},Wr,null,[[0,11]])}var Vr=function(e){for(var t=new Map,n=[],a=e.length;a--;){var r=e[a];r.notfound?n.push(r.query):t.set(r.query,r)}return{uniqueGeneMap:t,notFound:n}},Zr=Fr.a.mark(ec),$r=Fr.a.mark(nc);function ec(){return Fr.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("cyrestSaga reporting for duty"),e.next=3,Object(Lr.e)(ia,nc);case 3:case"end":return e.stop()}},Zr)}var tc=function(e){return e.uiState};function nc(e){var t,n,a,r,c;return Fr.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,console.log("watchImportNetwork",e.payload),o.prev=2,o.next=5,Object(Lr.d)(tc);case 5:return n=o.sent,a=n.urlParams.has("cyrestport")?n.urlParams.get("cyrestport"):1234,r=[{numberVerification:[{longNumber:0xffffffffffff}]}].concat(t),o.next=10,Object(Lr.b)(ft,a,r);case 10:return c=o.sent,console.log("CyREST response:",c),o.next=14,Object(Lr.c)({type:la,payload:{}});case 14:o.next=21;break;case 16:return o.prev=16,o.t0=o.catch(2),console.warn("CyREST import network error:",o.t0),o.next=21,Object(Lr.c)({type:sa,payload:{message:"CyREST import network error",error:o.t0.message}});case 21:case"end":return o.stop()}},$r,null,[[2,16]])}var ac=Object(h.a)(),rc=Object(u.createStore)(xr,Object(E.composeWithDevTools)(Object(u.applyMiddleware)(ac)));ac.run(Mr),ac.run(ec);Object(d.render)(s.a.createElement(function(e){var t=e.store;return s.a.createElement(m.a,{store:t},s.a.createElement(p.a,{basename:""},s.a.createElement(g.a,null,s.a.createElement(f.a,{exact:!0,path:"/",component:nr}),s.a.createElement(f.a,{path:"/:jobid/:sourceId/:networkId",component:ar}),s.a.createElement(f.a,{path:"/:jobid/:sourceId",component:ar}),s.a.createElement(f.a,{path:"/:jobid",component:ar}))))},{store:rc}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},56:function(e,t,n){e.exports=n.p+"static/media/cytoscape-logo.4aa4c296.svg"},65:function(e,t,n){},81:function(e,t,n){e.exports=n.p+"static/media/ndex-logo.04d7bf44.svg"}},[[275,1,2]]]);
//# sourceMappingURL=main.7a103447.chunk.js.map